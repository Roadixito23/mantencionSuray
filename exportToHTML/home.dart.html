<html>
<head>
<title>home.dart</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #bcbec4;}
.s1 { color: #6aab73;}
.s2 { color: #bcbec4;}
.s3 { color: #cf8e6d;}
.s4 { color: #2aacb8;}
.s5 { color: #7a7e85;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
home.dart</font>
</center></td></tr></table>
<pre><span class="s0">import </span><span class="s1">'package:flutter/material.dart'</span><span class="s2">;</span>
<span class="s0">import </span><span class="s1">'package:flutter/services.dart'</span><span class="s2">;</span>
<span class="s0">import </span><span class="s1">'maquina_screen.dart'</span><span class="s2">;</span>
<span class="s0">import </span><span class="s1">'edit_maquina_screen.dart'</span><span class="s2">;</span>
<span class="s0">import </span><span class="s1">'settings_screen.dart'</span><span class="s2">;</span>
<span class="s0">import </span><span class="s1">'generate_excel_screen.dart'</span><span class="s2">;</span>
<span class="s0">import </span><span class="s1">'export_document_screen.dart'</span><span class="s2">;</span>
<span class="s0">import </span><span class="s1">'dart:io'</span><span class="s2">;</span>
<span class="s0">import </span><span class="s1">'dart:convert'</span><span class="s2">;</span>
<span class="s0">import </span><span class="s1">'package:path_provider/path_provider.dart'</span><span class="s2">;</span>
<span class="s0">import </span><span class="s1">'generar_reporte_screen.dart'</span><span class="s2">;</span>
<span class="s0">import </span><span class="s1">'import_document_screen.dart'</span><span class="s2">;</span>
<span class="s0">import </span><span class="s1">'import_excel_screen.dart'</span><span class="s2">;</span>

<span class="s3">class </span><span class="s0">HomeScreen </span><span class="s3">extends </span><span class="s0">StatefulWidget </span><span class="s2">{</span>
  <span class="s3">const </span><span class="s0">HomeScreen</span><span class="s2">({</span><span class="s0">Key</span><span class="s2">? </span><span class="s0">key</span><span class="s2">}) : </span><span class="s3">super</span><span class="s2">(</span><span class="s0">key</span><span class="s2">: </span><span class="s0">key</span><span class="s2">);</span>

  <span class="s0">@override</span>
  <span class="s0">_HomeScreenState createState</span><span class="s2">() =&gt; </span><span class="s0">_HomeScreenState</span><span class="s2">();</span>
<span class="s2">}</span>

<span class="s3">class </span><span class="s0">_HomeScreenState </span><span class="s3">extends </span><span class="s0">State</span><span class="s2">&lt;</span><span class="s0">HomeScreen</span><span class="s2">&gt; {</span>
  <span class="s0">bool _hayDatosMaquinas </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
  <span class="s0">bool _cargando </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
  <span class="s0">int _selectedIndex </span><span class="s2">= </span><span class="s4">0</span><span class="s2">;</span>
  <span class="s0">bool _isHovering </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
  <span class="s3">final </span><span class="s0">GlobalKey</span><span class="s2">&lt;</span><span class="s0">ScaffoldState</span><span class="s2">&gt; </span><span class="s0">_scaffoldKey </span><span class="s2">= </span><span class="s0">GlobalKey</span><span class="s2">&lt;</span><span class="s0">ScaffoldState</span><span class="s2">&gt;();</span>

  <span class="s5">// Variables para almacenar estadísticas</span>
  <span class="s0">int _totalMaquinas </span><span class="s2">= </span><span class="s4">0</span><span class="s2">;</span>
  <span class="s0">int _revisionesProximas </span><span class="s2">= </span><span class="s4">0</span><span class="s2">;</span>
  <span class="s0">int _revisionesVencidas </span><span class="s2">= </span><span class="s4">0</span><span class="s2">;</span>

  <span class="s0">@override</span>
  <span class="s3">void </span><span class="s0">initState</span><span class="s2">() {</span>
    <span class="s3">super</span><span class="s2">.</span><span class="s0">initState</span><span class="s2">();</span>
    <span class="s0">_verificarDatos</span><span class="s2">();</span>
    <span class="s0">_registerShortcuts</span><span class="s2">();</span>
  <span class="s2">}</span>

  <span class="s3">void </span><span class="s0">_registerShortcuts</span><span class="s2">() {</span>
    <span class="s0">ServicesBinding</span><span class="s2">.</span><span class="s0">instance</span><span class="s2">.</span><span class="s0">keyboard</span><span class="s2">.</span><span class="s0">addHandler</span><span class="s2">((</span><span class="s0">KeyEvent event</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s0">event </span><span class="s3">is</span><span class="s2">! </span><span class="s0">KeyDownEvent</span><span class="s2">) </span><span class="s3">return false</span><span class="s2">;</span>

      <span class="s3">try </span><span class="s2">{</span>
        <span class="s3">if </span><span class="s2">(</span><span class="s0">HardwareKeyboard</span><span class="s2">.</span><span class="s0">instance</span><span class="s2">.</span><span class="s0">isControlPressed</span><span class="s2">) {</span>
          <span class="s3">switch </span><span class="s2">(</span><span class="s0">event</span><span class="s2">.</span><span class="s0">logicalKey</span><span class="s2">) {</span>
            <span class="s3">case </span><span class="s0">LogicalKeyboardKey</span><span class="s2">.</span><span class="s0">keyM</span><span class="s2">:</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s0">_hayDatosMaquinas</span><span class="s2">) {</span>
                <span class="s0">WidgetsBinding</span><span class="s2">.</span><span class="s0">instance</span><span class="s2">.</span><span class="s0">addPostFrameCallback</span><span class="s2">((</span><span class="s0">_</span><span class="s2">) {</span>
                  <span class="s0">_navegarAMaquinas</span><span class="s2">();</span>
                <span class="s2">});</span>
                <span class="s3">return true</span><span class="s2">;</span>
              <span class="s2">}</span>
              <span class="s3">break</span><span class="s2">;</span>

            <span class="s3">case </span><span class="s0">LogicalKeyboardKey</span><span class="s2">.</span><span class="s0">keyN</span><span class="s2">:</span>
              <span class="s0">WidgetsBinding</span><span class="s2">.</span><span class="s0">instance</span><span class="s2">.</span><span class="s0">addPostFrameCallback</span><span class="s2">((</span><span class="s0">_</span><span class="s2">) {</span>
                <span class="s0">_editarMaquina</span><span class="s2">();</span>
              <span class="s2">});</span>
              <span class="s3">return true</span><span class="s2">;</span>

            <span class="s3">case </span><span class="s0">LogicalKeyboardKey</span><span class="s2">.</span><span class="s0">keyE</span><span class="s2">:</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s0">_hayDatosMaquinas</span><span class="s2">) {</span>
                <span class="s0">WidgetsBinding</span><span class="s2">.</span><span class="s0">instance</span><span class="s2">.</span><span class="s0">addPostFrameCallback</span><span class="s2">((</span><span class="s0">_</span><span class="s2">) {</span>
                  <span class="s0">_navegarAExportarExcel</span><span class="s2">();</span>
                <span class="s2">});</span>
                <span class="s3">return true</span><span class="s2">;</span>
              <span class="s2">}</span>
              <span class="s3">break</span><span class="s2">;</span>

            <span class="s3">case </span><span class="s0">LogicalKeyboardKey</span><span class="s2">.</span><span class="s0">keyR</span><span class="s2">:</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s0">_hayDatosMaquinas</span><span class="s2">) {</span>
                <span class="s0">WidgetsBinding</span><span class="s2">.</span><span class="s0">instance</span><span class="s2">.</span><span class="s0">addPostFrameCallback</span><span class="s2">((</span><span class="s0">_</span><span class="s2">) {</span>
                  <span class="s0">_navegarAGenerarReporte</span><span class="s2">();</span>
                <span class="s2">});</span>
                <span class="s3">return true</span><span class="s2">;</span>
              <span class="s2">}</span>
              <span class="s3">break</span><span class="s2">;</span>

            <span class="s3">case </span><span class="s0">LogicalKeyboardKey</span><span class="s2">.</span><span class="s0">keyS</span><span class="s2">:</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s0">_hayDatosMaquinas</span><span class="s2">) {</span>
                <span class="s0">WidgetsBinding</span><span class="s2">.</span><span class="s0">instance</span><span class="s2">.</span><span class="s0">addPostFrameCallback</span><span class="s2">((</span><span class="s0">_</span><span class="s2">) {</span>
                  <span class="s0">_navegarAExportarDocumento</span><span class="s2">();</span>
                <span class="s2">});</span>
                <span class="s3">return true</span><span class="s2">;</span>
              <span class="s2">}</span>
              <span class="s3">break</span><span class="s2">;</span>

            <span class="s3">case </span><span class="s0">LogicalKeyboardKey</span><span class="s2">.</span><span class="s0">keyI</span><span class="s2">:</span>
              <span class="s0">WidgetsBinding</span><span class="s2">.</span><span class="s0">instance</span><span class="s2">.</span><span class="s0">addPostFrameCallback</span><span class="s2">((</span><span class="s0">_</span><span class="s2">) {</span>
                <span class="s0">_navegarAImportarDocumento</span><span class="s2">();</span>
              <span class="s2">});</span>
              <span class="s3">return true</span><span class="s2">;</span>
          <span class="s2">}</span>
        <span class="s2">}</span>

        <span class="s3">if </span><span class="s2">(</span><span class="s0">event</span><span class="s2">.</span><span class="s0">logicalKey </span><span class="s2">== </span><span class="s0">LogicalKeyboardKey</span><span class="s2">.</span><span class="s0">f1</span><span class="s2">) {</span>
          <span class="s0">WidgetsBinding</span><span class="s2">.</span><span class="s0">instance</span><span class="s2">.</span><span class="s0">addPostFrameCallback</span><span class="s2">((</span><span class="s0">_</span><span class="s2">) {</span>
            <span class="s0">_mostrarAyudaAtajos</span><span class="s2">();</span>
          <span class="s2">});</span>
          <span class="s3">return true</span><span class="s2">;</span>
        <span class="s2">}</span>
      <span class="s2">} </span><span class="s3">catch </span><span class="s2">(</span><span class="s0">e</span><span class="s2">) {</span>
        <span class="s0">print</span><span class="s2">(</span><span class="s1">'Error en manejo de atajos de teclado: </span><span class="s2">$</span><span class="s0">e</span><span class="s1">'</span><span class="s2">);</span>
      <span class="s2">}</span>

      <span class="s3">return false</span><span class="s2">;</span>
    <span class="s2">});</span>
  <span class="s2">}</span>

  <span class="s3">void </span><span class="s0">_mostrarAyudaAtajos</span><span class="s2">() {</span>
    <span class="s0">showDialog</span><span class="s2">(</span>
      <span class="s0">context</span><span class="s2">: </span><span class="s0">context</span><span class="s2">,</span>
      <span class="s0">builder</span><span class="s2">: (</span><span class="s0">context</span><span class="s2">) =&gt; </span><span class="s0">AlertDialog</span><span class="s2">(</span>
        <span class="s0">title</span><span class="s2">: </span><span class="s3">const </span><span class="s0">Text</span><span class="s2">(</span><span class="s1">'Atajos de Teclado'</span><span class="s2">),</span>
        <span class="s0">content</span><span class="s2">: </span><span class="s0">Column</span><span class="s2">(</span>
          <span class="s0">mainAxisSize</span><span class="s2">: </span><span class="s0">MainAxisSize</span><span class="s2">.</span><span class="s0">min</span><span class="s2">,</span>
          <span class="s0">crossAxisAlignment</span><span class="s2">: </span><span class="s0">CrossAxisAlignment</span><span class="s2">.</span><span class="s0">start</span><span class="s2">,</span>
          <span class="s0">children</span><span class="s2">: </span><span class="s3">const </span><span class="s2">[</span>
            <span class="s0">Text</span><span class="s2">(</span><span class="s1">'Ctrl+M: Ver Máquinas'</span><span class="s2">),</span>
            <span class="s0">Text</span><span class="s2">(</span><span class="s1">'Ctrl+N: Agregar Máquina'</span><span class="s2">),</span>
            <span class="s0">Text</span><span class="s2">(</span><span class="s1">'Ctrl+E: Exportar a Excel'</span><span class="s2">),</span>
            <span class="s0">Text</span><span class="s2">(</span><span class="s1">'Ctrl+R: Generar Reporte'</span><span class="s2">),</span>
            <span class="s0">Text</span><span class="s2">(</span><span class="s1">'Ctrl+S: Crear Respaldo'</span><span class="s2">),</span>
            <span class="s0">Text</span><span class="s2">(</span><span class="s1">'Ctrl+I: Importar Documento'</span><span class="s2">),</span>
            <span class="s0">Text</span><span class="s2">(</span><span class="s1">'F1: Mostrar esta ayuda'</span><span class="s2">),</span>
          <span class="s2">],</span>
        <span class="s2">),</span>
        <span class="s0">actions</span><span class="s2">: [</span>
          <span class="s0">TextButton</span><span class="s2">(</span>
            <span class="s0">onPressed</span><span class="s2">: () =&gt; </span><span class="s0">Navigator</span><span class="s2">.</span><span class="s0">pop</span><span class="s2">(</span><span class="s0">context</span><span class="s2">),</span>
            <span class="s0">child</span><span class="s2">: </span><span class="s3">const </span><span class="s0">Text</span><span class="s2">(</span><span class="s1">'Cerrar'</span><span class="s2">),</span>
          <span class="s2">),</span>
        <span class="s2">],</span>
      <span class="s2">),</span>
    <span class="s2">);</span>
  <span class="s2">}</span>

  <span class="s0">Future</span><span class="s2">&lt;</span><span class="s3">void</span><span class="s2">&gt; </span><span class="s0">_verificarDatos</span><span class="s2">() </span><span class="s0">async </span><span class="s2">{</span>
    <span class="s0">setState</span><span class="s2">(() {</span>
      <span class="s0">_cargando </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
    <span class="s2">});</span>

    <span class="s3">try </span><span class="s2">{</span>
      <span class="s3">final </span><span class="s0">file </span><span class="s2">= </span><span class="s0">await _localFile</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s0">await file</span><span class="s2">.</span><span class="s0">exists</span><span class="s2">()) {</span>
        <span class="s3">final </span><span class="s0">contenido </span><span class="s2">= </span><span class="s0">await file</span><span class="s2">.</span><span class="s0">readAsString</span><span class="s2">();</span>
        <span class="s3">final </span><span class="s0">List</span><span class="s2">&lt;</span><span class="s0">dynamic</span><span class="s2">&gt; </span><span class="s0">maquinasJson </span><span class="s2">= </span><span class="s0">jsonDecode</span><span class="s2">(</span><span class="s0">contenido</span><span class="s2">);</span>
        <span class="s3">final </span><span class="s0">maquinas </span><span class="s2">= </span><span class="s0">maquinasJson</span><span class="s2">.</span><span class="s0">cast</span><span class="s2">&lt;</span><span class="s0">Map</span><span class="s2">&lt;</span><span class="s0">String</span><span class="s2">, </span><span class="s0">dynamic</span><span class="s2">&gt;&gt;();</span>

        <span class="s5">// Calcular estadísticas</span>
        <span class="s0">int proximas </span><span class="s2">= </span><span class="s4">0</span><span class="s2">;</span>
        <span class="s0">int vencidas </span><span class="s2">= </span><span class="s4">0</span><span class="s2">;</span>

        <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s0">maquina </span><span class="s3">in </span><span class="s0">maquinas</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s0">maquina</span><span class="s2">[</span><span class="s1">'fechaRevisionTecnica'</span><span class="s2">] != </span><span class="s3">null</span><span class="s2">) {</span>
            <span class="s3">try </span><span class="s2">{</span>
              <span class="s3">final </span><span class="s0">DateTime fechaRevision </span><span class="s2">= </span><span class="s0">DateTime</span><span class="s2">.</span><span class="s0">parse</span><span class="s2">(</span><span class="s0">maquina</span><span class="s2">[</span><span class="s1">'fechaRevisionTecnica'</span><span class="s2">]);</span>
              <span class="s3">final </span><span class="s0">DateTime ahora </span><span class="s2">= </span><span class="s0">DateTime</span><span class="s2">.</span><span class="s0">now</span><span class="s2">();</span>
              <span class="s3">final </span><span class="s0">diferencia </span><span class="s2">= </span><span class="s0">fechaRevision</span><span class="s2">.</span><span class="s0">difference</span><span class="s2">(</span><span class="s0">ahora</span><span class="s2">);</span>

              <span class="s3">if </span><span class="s2">(</span><span class="s0">diferencia</span><span class="s2">.</span><span class="s0">inDays </span><span class="s2">&lt; </span><span class="s4">0</span><span class="s2">) {</span>
                <span class="s5">// Revisión vencida</span>
                <span class="s0">vencidas</span><span class="s2">++;</span>
              <span class="s2">} </span><span class="s3">else if </span><span class="s2">(</span><span class="s0">diferencia</span><span class="s2">.</span><span class="s0">inDays </span><span class="s2">&lt;= </span><span class="s4">30</span><span class="s2">) {</span>
                <span class="s5">// Revisión próxima a vencer (30 días o menos)</span>
                <span class="s0">proximas</span><span class="s2">++;</span>
              <span class="s2">}</span>
            <span class="s2">} </span><span class="s3">catch </span><span class="s2">(</span><span class="s0">e</span><span class="s2">) {</span>
              <span class="s0">print</span><span class="s2">(</span><span class="s1">'Error al procesar fecha: </span><span class="s2">$</span><span class="s0">e</span><span class="s1">'</span><span class="s2">);</span>
            <span class="s2">}</span>
          <span class="s2">}</span>
        <span class="s2">}</span>

        <span class="s0">setState</span><span class="s2">(() {</span>
          <span class="s0">_hayDatosMaquinas </span><span class="s2">= </span><span class="s0">maquinas</span><span class="s2">.</span><span class="s0">isNotEmpty</span><span class="s2">;</span>
          <span class="s0">_totalMaquinas </span><span class="s2">= </span><span class="s0">maquinas</span><span class="s2">.</span><span class="s0">length</span><span class="s2">;</span>
          <span class="s0">_revisionesProximas </span><span class="s2">= </span><span class="s0">proximas</span><span class="s2">;</span>
          <span class="s0">_revisionesVencidas </span><span class="s2">= </span><span class="s0">vencidas</span><span class="s2">;</span>
          <span class="s0">_cargando </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
        <span class="s2">});</span>
      <span class="s2">} </span><span class="s3">else </span><span class="s2">{</span>
        <span class="s0">setState</span><span class="s2">(() {</span>
          <span class="s0">_hayDatosMaquinas </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
          <span class="s0">_totalMaquinas </span><span class="s2">= </span><span class="s4">0</span><span class="s2">;</span>
          <span class="s0">_revisionesProximas </span><span class="s2">= </span><span class="s4">0</span><span class="s2">;</span>
          <span class="s0">_revisionesVencidas </span><span class="s2">= </span><span class="s4">0</span><span class="s2">;</span>
          <span class="s0">_cargando </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
        <span class="s2">});</span>
      <span class="s2">}</span>
    <span class="s2">} </span><span class="s3">catch </span><span class="s2">(</span><span class="s0">e</span><span class="s2">) {</span>
      <span class="s0">print</span><span class="s2">(</span><span class="s1">'Error al verificar datos: </span><span class="s2">$</span><span class="s0">e</span><span class="s1">'</span><span class="s2">);</span>
      <span class="s0">setState</span><span class="s2">(() {</span>
        <span class="s0">_hayDatosMaquinas </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
        <span class="s0">_totalMaquinas </span><span class="s2">= </span><span class="s4">0</span><span class="s2">;</span>
        <span class="s0">_revisionesProximas </span><span class="s2">= </span><span class="s4">0</span><span class="s2">;</span>
        <span class="s0">_revisionesVencidas </span><span class="s2">= </span><span class="s4">0</span><span class="s2">;</span>
        <span class="s0">_cargando </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
      <span class="s2">});</span>
    <span class="s2">}</span>
  <span class="s2">}</span>

  <span class="s0">Future</span><span class="s2">&lt;</span><span class="s0">String</span><span class="s2">&gt; </span><span class="s0">get _localPath async </span><span class="s2">{</span>
    <span class="s3">final </span><span class="s0">directory </span><span class="s2">= </span><span class="s0">await getApplicationDocumentsDirectory</span><span class="s2">();</span>
    <span class="s3">return </span><span class="s0">directory</span><span class="s2">.</span><span class="s0">path</span><span class="s2">;</span>
  <span class="s2">}</span>

  <span class="s0">Future</span><span class="s2">&lt;</span><span class="s0">File</span><span class="s2">&gt; </span><span class="s0">get _localFile async </span><span class="s2">{</span>
    <span class="s3">final </span><span class="s0">path </span><span class="s2">= </span><span class="s0">await _localPath</span><span class="s2">;</span>
    <span class="s3">return </span><span class="s0">File</span><span class="s2">(</span><span class="s1">'</span><span class="s2">$</span><span class="s0">path</span><span class="s1">/maquinas.json'</span><span class="s2">);</span>
  <span class="s2">}</span>

  <span class="s3">void </span><span class="s0">_navegarAMaquinas</span><span class="s2">() {</span>
    <span class="s0">Navigator</span><span class="s2">.</span><span class="s0">push</span><span class="s2">(</span>
      <span class="s0">context</span><span class="s2">,</span>
      <span class="s0">MaterialPageRoute</span><span class="s2">(</span><span class="s0">builder</span><span class="s2">: (</span><span class="s0">context</span><span class="s2">) =&gt; </span><span class="s3">const </span><span class="s0">MaquinaScreen</span><span class="s2">()),</span>
    <span class="s2">).</span><span class="s0">then</span><span class="s2">((</span><span class="s0">_</span><span class="s2">) {</span>
      <span class="s0">_verificarDatos</span><span class="s2">();</span>
    <span class="s2">});</span>
  <span class="s2">}</span>

  <span class="s3">void </span><span class="s0">_editarMaquina</span><span class="s2">() {</span>
    <span class="s0">Navigator</span><span class="s2">.</span><span class="s0">push</span><span class="s2">(</span>
      <span class="s0">context</span><span class="s2">,</span>
      <span class="s0">MaterialPageRoute</span><span class="s2">(</span>
        <span class="s0">builder</span><span class="s2">: (</span><span class="s0">context</span><span class="s2">) =&gt; </span><span class="s0">EditMaquinaScreen</span><span class="s2">(</span>
          <span class="s0">onSave</span><span class="s2">: (</span><span class="s0">nuevaMaquina</span><span class="s2">) {</span>
            <span class="s0">setState</span><span class="s2">(() {</span>
              <span class="s0">_hayDatosMaquinas </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
            <span class="s2">});</span>
          <span class="s2">},</span>
        <span class="s2">),</span>
      <span class="s2">),</span>
    <span class="s2">).</span><span class="s0">then</span><span class="s2">((</span><span class="s0">_</span><span class="s2">) {</span>
      <span class="s0">_verificarDatos</span><span class="s2">();</span>
    <span class="s2">});</span>
  <span class="s2">}</span>

  <span class="s3">void </span><span class="s0">_navegarAConfiguracion</span><span class="s2">() {</span>
    <span class="s0">Navigator</span><span class="s2">.</span><span class="s0">push</span><span class="s2">(</span>
      <span class="s0">context</span><span class="s2">,</span>
      <span class="s0">MaterialPageRoute</span><span class="s2">(</span>
        <span class="s0">builder</span><span class="s2">: (</span><span class="s0">context</span><span class="s2">) =&gt; </span><span class="s3">const </span><span class="s0">SettingsScreen</span><span class="s2">(),</span>
      <span class="s2">),</span>
    <span class="s2">).</span><span class="s0">then</span><span class="s2">((</span><span class="s0">_</span><span class="s2">) {</span>
      <span class="s0">_verificarDatos</span><span class="s2">();</span>
    <span class="s2">});</span>
  <span class="s2">}</span>

  <span class="s3">void </span><span class="s0">_navegarAExportarExcel</span><span class="s2">() {</span>
    <span class="s0">Navigator</span><span class="s2">.</span><span class="s0">push</span><span class="s2">(</span>
      <span class="s0">context</span><span class="s2">,</span>
      <span class="s0">MaterialPageRoute</span><span class="s2">(</span>
        <span class="s0">builder</span><span class="s2">: (</span><span class="s0">context</span><span class="s2">) =&gt; </span><span class="s3">const </span><span class="s0">GenerateExcelScreen</span><span class="s2">(),</span>
      <span class="s2">),</span>
    <span class="s2">);</span>
  <span class="s2">}</span>

  <span class="s3">void </span><span class="s0">_navegarAExportarDocumento</span><span class="s2">() {</span>
    <span class="s0">Navigator</span><span class="s2">.</span><span class="s0">push</span><span class="s2">(</span>
      <span class="s0">context</span><span class="s2">,</span>
      <span class="s0">MaterialPageRoute</span><span class="s2">(</span>
        <span class="s0">builder</span><span class="s2">: (</span><span class="s0">context</span><span class="s2">) =&gt; </span><span class="s3">const </span><span class="s0">ExportDocumentScreen</span><span class="s2">(),</span>
      <span class="s2">),</span>
    <span class="s2">);</span>
  <span class="s2">}</span>

  <span class="s3">void </span><span class="s0">_navegarAGenerarReporte</span><span class="s2">() {</span>
    <span class="s0">Navigator</span><span class="s2">.</span><span class="s0">push</span><span class="s2">(</span>
      <span class="s0">context</span><span class="s2">,</span>
      <span class="s0">MaterialPageRoute</span><span class="s2">(</span>
        <span class="s0">builder</span><span class="s2">: (</span><span class="s0">context</span><span class="s2">) =&gt; </span><span class="s3">const </span><span class="s0">GenerarReporteScreen</span><span class="s2">(),</span>
      <span class="s2">),</span>
    <span class="s2">);</span>
  <span class="s2">}</span>

  <span class="s3">void </span><span class="s0">_navegarAImportarDocumento</span><span class="s2">() {</span>
    <span class="s0">Navigator</span><span class="s2">.</span><span class="s0">push</span><span class="s2">(</span>
      <span class="s0">context</span><span class="s2">,</span>
      <span class="s0">MaterialPageRoute</span><span class="s2">(</span>
        <span class="s0">builder</span><span class="s2">: (</span><span class="s0">context</span><span class="s2">) =&gt; </span><span class="s3">const </span><span class="s0">ImportDocumentScreen</span><span class="s2">(),</span>
      <span class="s2">),</span>
    <span class="s2">).</span><span class="s0">then</span><span class="s2">((</span><span class="s0">resultado</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s0">resultado </span><span class="s2">== </span><span class="s3">true</span><span class="s2">) {</span>
        <span class="s0">_verificarDatos</span><span class="s2">();</span>
        <span class="s0">ScaffoldMessenger</span><span class="s2">.</span><span class="s0">of</span><span class="s2">(</span><span class="s0">context</span><span class="s2">).</span><span class="s0">showSnackBar</span><span class="s2">(</span>
          <span class="s3">const </span><span class="s0">SnackBar</span><span class="s2">(</span>
            <span class="s0">content</span><span class="s2">: </span><span class="s0">Text</span><span class="s2">(</span><span class="s1">'Datos importados con éxito'</span><span class="s2">),</span>
            <span class="s0">backgroundColor</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">green</span><span class="s2">,</span>
          <span class="s2">),</span>
        <span class="s2">);</span>
      <span class="s2">}</span>
    <span class="s2">});</span>
  <span class="s2">}</span>

  <span class="s3">void </span><span class="s0">_navegarAImportarExcel</span><span class="s2">() {</span>
    <span class="s0">Navigator</span><span class="s2">.</span><span class="s0">push</span><span class="s2">(</span>
      <span class="s0">context</span><span class="s2">,</span>
      <span class="s0">MaterialPageRoute</span><span class="s2">(</span>
        <span class="s0">builder</span><span class="s2">: (</span><span class="s0">context</span><span class="s2">) =&gt; </span><span class="s3">const </span><span class="s0">ImportExcelScreen</span><span class="s2">(),</span>
      <span class="s2">),</span>
    <span class="s2">).</span><span class="s0">then</span><span class="s2">((</span><span class="s0">resultado</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s0">resultado </span><span class="s2">== </span><span class="s3">true</span><span class="s2">) {</span>
        <span class="s0">_verificarDatos</span><span class="s2">();</span>
      <span class="s2">}</span>
    <span class="s2">});</span>
  <span class="s2">}</span>

  <span class="s0">@override</span>
  <span class="s0">Widget build</span><span class="s2">(</span><span class="s0">BuildContext context</span><span class="s2">) {</span>
    <span class="s3">final </span><span class="s0">mediaQuery </span><span class="s2">= </span><span class="s0">MediaQuery</span><span class="s2">.</span><span class="s0">of</span><span class="s2">(</span><span class="s0">context</span><span class="s2">);</span>
    <span class="s3">final </span><span class="s0">isLandscape </span><span class="s2">= </span><span class="s0">mediaQuery</span><span class="s2">.</span><span class="s0">orientation </span><span class="s2">== </span><span class="s0">Orientation</span><span class="s2">.</span><span class="s0">landscape</span><span class="s2">;</span>
    <span class="s3">final </span><span class="s0">isTablet </span><span class="s2">= </span><span class="s0">mediaQuery</span><span class="s2">.</span><span class="s0">size</span><span class="s2">.</span><span class="s0">shortestSide </span><span class="s2">&gt;= </span><span class="s4">600</span><span class="s2">;</span>
    <span class="s3">final </span><span class="s0">isWindows </span><span class="s2">= </span><span class="s0">Platform</span><span class="s2">.</span><span class="s0">isWindows</span><span class="s2">;</span>

    <span class="s3">final </span><span class="s0">useDesktopLayout </span><span class="s2">= </span><span class="s0">isWindows </span><span class="s2">|| (</span><span class="s0">isLandscape </span><span class="s2">&amp;&amp; </span><span class="s0">isTablet</span><span class="s2">);</span>

    <span class="s3">return </span><span class="s0">Scaffold</span><span class="s2">(</span>
      <span class="s0">key</span><span class="s2">: </span><span class="s0">_scaffoldKey</span><span class="s2">,</span>
      <span class="s0">appBar</span><span class="s2">: </span><span class="s0">useDesktopLayout </span><span class="s2">? </span><span class="s0">_buildWindowsAppBar</span><span class="s2">() : </span><span class="s3">null</span><span class="s2">,</span>
      <span class="s0">drawer</span><span class="s2">: </span><span class="s0">useDesktopLayout </span><span class="s2">? </span><span class="s3">null </span><span class="s2">: </span><span class="s0">_buildMobileDrawer</span><span class="s2">(),</span>
      <span class="s0">body</span><span class="s2">: </span><span class="s0">_cargando</span>
          <span class="s2">? </span><span class="s3">const </span><span class="s0">Center</span><span class="s2">(</span><span class="s0">child</span><span class="s2">: </span><span class="s0">CircularProgressIndicator</span><span class="s2">())</span>
          <span class="s2">: </span><span class="s0">useDesktopLayout</span>
          <span class="s2">? </span><span class="s0">_buildWindowsLayout</span><span class="s2">()</span>
          <span class="s2">: </span><span class="s0">_buildMobileLayout</span><span class="s2">(</span><span class="s0">isLandscape</span><span class="s2">),</span>
    <span class="s2">);</span>
  <span class="s2">}</span>

  <span class="s0">PreferredSizeWidget _buildWindowsAppBar</span><span class="s2">() {</span>
    <span class="s3">return </span><span class="s0">AppBar</span><span class="s2">(</span>
      <span class="s0">title</span><span class="s2">: </span><span class="s3">const </span><span class="s0">Text</span><span class="s2">(</span><span class="s1">'Mantenimiento Buses Suray'</span><span class="s2">),</span>
      <span class="s0">centerTitle</span><span class="s2">: </span><span class="s3">false</span><span class="s2">,</span>
      <span class="s0">backgroundColor</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">blue</span><span class="s2">.</span><span class="s0">shade800</span><span class="s2">,</span>
      <span class="s0">foregroundColor</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">white</span><span class="s2">,</span>
      <span class="s0">elevation</span><span class="s2">: </span><span class="s4">4</span><span class="s2">,</span>
      <span class="s0">actions</span><span class="s2">: [</span>
        <span class="s0">Container</span><span class="s2">(</span>
          <span class="s0">width</span><span class="s2">: </span><span class="s4">200</span><span class="s2">,</span>
          <span class="s0">margin</span><span class="s2">: </span><span class="s3">const </span><span class="s0">EdgeInsets</span><span class="s2">.</span><span class="s0">symmetric</span><span class="s2">(</span><span class="s0">vertical</span><span class="s2">: </span><span class="s4">8</span><span class="s2">),</span>
          <span class="s0">child</span><span class="s2">: </span><span class="s0">TextField</span><span class="s2">(</span>
            <span class="s0">decoration</span><span class="s2">: </span><span class="s0">InputDecoration</span><span class="s2">(</span>
              <span class="s0">hintText</span><span class="s2">: </span><span class="s1">'Buscar...'</span><span class="s2">,</span>
              <span class="s0">contentPadding</span><span class="s2">: </span><span class="s3">const </span><span class="s0">EdgeInsets</span><span class="s2">.</span><span class="s0">symmetric</span><span class="s2">(</span><span class="s0">horizontal</span><span class="s2">: </span><span class="s4">12</span><span class="s2">, </span><span class="s0">vertical</span><span class="s2">: </span><span class="s4">0</span><span class="s2">),</span>
              <span class="s0">filled</span><span class="s2">: </span><span class="s3">true</span><span class="s2">,</span>
              <span class="s0">fillColor</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">white</span><span class="s2">.</span><span class="s0">withOpacity</span><span class="s2">(</span><span class="s4">0.2</span><span class="s2">),</span>
              <span class="s0">border</span><span class="s2">: </span><span class="s0">OutlineInputBorder</span><span class="s2">(</span>
                <span class="s0">borderRadius</span><span class="s2">: </span><span class="s0">BorderRadius</span><span class="s2">.</span><span class="s0">circular</span><span class="s2">(</span><span class="s4">20</span><span class="s2">),</span>
                <span class="s0">borderSide</span><span class="s2">: </span><span class="s0">BorderSide</span><span class="s2">.</span><span class="s0">none</span><span class="s2">,</span>
              <span class="s2">),</span>
              <span class="s0">prefixIcon</span><span class="s2">: </span><span class="s3">const </span><span class="s0">Icon</span><span class="s2">(</span><span class="s0">Icons</span><span class="s2">.</span><span class="s0">search</span><span class="s2">, </span><span class="s0">color</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">white</span><span class="s2">, </span><span class="s0">size</span><span class="s2">: </span><span class="s4">20</span><span class="s2">),</span>
              <span class="s0">hintStyle</span><span class="s2">: </span><span class="s3">const </span><span class="s0">TextStyle</span><span class="s2">(</span><span class="s0">color</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">white70</span><span class="s2">, </span><span class="s0">fontSize</span><span class="s2">: </span><span class="s4">14</span><span class="s2">),</span>
            <span class="s2">),</span>
            <span class="s0">style</span><span class="s2">: </span><span class="s3">const </span><span class="s0">TextStyle</span><span class="s2">(</span><span class="s0">color</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">white</span><span class="s2">),</span>
          <span class="s2">),</span>
        <span class="s2">),</span>
        <span class="s3">const </span><span class="s0">SizedBox</span><span class="s2">(</span><span class="s0">width</span><span class="s2">: </span><span class="s4">8</span><span class="s2">),</span>

        <span class="s0">IconButton</span><span class="s2">(</span>
          <span class="s0">icon</span><span class="s2">: </span><span class="s3">const </span><span class="s0">Icon</span><span class="s2">(</span><span class="s0">Icons</span><span class="s2">.</span><span class="s0">settings</span><span class="s2">),</span>
          <span class="s0">tooltip</span><span class="s2">: </span><span class="s1">'Configuración'</span><span class="s2">,</span>
          <span class="s0">onPressed</span><span class="s2">: </span><span class="s0">_navegarAConfiguracion</span><span class="s2">,</span>
        <span class="s2">),</span>

        <span class="s0">PopupMenuButton</span><span class="s2">&lt;</span><span class="s0">String</span><span class="s2">&gt;(</span>
          <span class="s0">icon</span><span class="s2">: </span><span class="s0">CircleAvatar</span><span class="s2">(</span>
            <span class="s0">backgroundColor</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">white24</span><span class="s2">,</span>
            <span class="s0">child</span><span class="s2">: </span><span class="s0">Icon</span><span class="s2">(</span><span class="s0">Icons</span><span class="s2">.</span><span class="s0">person</span><span class="s2">, </span><span class="s0">color</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">white</span><span class="s2">),</span>
          <span class="s2">),</span>
          <span class="s0">tooltip</span><span class="s2">: </span><span class="s1">'Opciones de usuario'</span><span class="s2">,</span>
          <span class="s0">onSelected</span><span class="s2">: (</span><span class="s0">value</span><span class="s2">) {</span>
            <span class="s5">// Implementar opciones de usuario</span>
          <span class="s2">},</span>
          <span class="s0">itemBuilder</span><span class="s2">: (</span><span class="s0">context</span><span class="s2">) =&gt; [</span>
            <span class="s3">const </span><span class="s0">PopupMenuItem</span><span class="s2">(</span>
              <span class="s0">value</span><span class="s2">: </span><span class="s1">'profile'</span><span class="s2">,</span>
              <span class="s0">child</span><span class="s2">: </span><span class="s0">ListTile</span><span class="s2">(</span>
                <span class="s0">leading</span><span class="s2">: </span><span class="s0">Icon</span><span class="s2">(</span><span class="s0">Icons</span><span class="s2">.</span><span class="s0">person</span><span class="s2">),</span>
                <span class="s0">title</span><span class="s2">: </span><span class="s0">Text</span><span class="s2">(</span><span class="s1">'Mi Perfil'</span><span class="s2">),</span>
              <span class="s2">),</span>
            <span class="s2">),</span>
            <span class="s3">const </span><span class="s0">PopupMenuItem</span><span class="s2">(</span>
              <span class="s0">value</span><span class="s2">: </span><span class="s1">'help'</span><span class="s2">,</span>
              <span class="s0">child</span><span class="s2">: </span><span class="s0">ListTile</span><span class="s2">(</span>
                <span class="s0">leading</span><span class="s2">: </span><span class="s0">Icon</span><span class="s2">(</span><span class="s0">Icons</span><span class="s2">.</span><span class="s0">help</span><span class="s2">),</span>
                <span class="s0">title</span><span class="s2">: </span><span class="s0">Text</span><span class="s2">(</span><span class="s1">'Ayuda'</span><span class="s2">),</span>
              <span class="s2">),</span>
            <span class="s2">),</span>
            <span class="s3">const </span><span class="s0">PopupMenuItem</span><span class="s2">(</span>
              <span class="s0">value</span><span class="s2">: </span><span class="s1">'about'</span><span class="s2">,</span>
              <span class="s0">child</span><span class="s2">: </span><span class="s0">ListTile</span><span class="s2">(</span>
                <span class="s0">leading</span><span class="s2">: </span><span class="s0">Icon</span><span class="s2">(</span><span class="s0">Icons</span><span class="s2">.</span><span class="s0">info</span><span class="s2">),</span>
                <span class="s0">title</span><span class="s2">: </span><span class="s0">Text</span><span class="s2">(</span><span class="s1">'Acerca de'</span><span class="s2">),</span>
              <span class="s2">),</span>
            <span class="s2">),</span>
          <span class="s2">],</span>
        <span class="s2">),</span>
        <span class="s3">const </span><span class="s0">SizedBox</span><span class="s2">(</span><span class="s0">width</span><span class="s2">: </span><span class="s4">16</span><span class="s2">),</span>
      <span class="s2">],</span>
    <span class="s2">);</span>
  <span class="s2">}</span>

  <span class="s0">Widget _buildMobileDrawer</span><span class="s2">() {</span>
    <span class="s3">return </span><span class="s0">Drawer</span><span class="s2">(</span>
      <span class="s0">child</span><span class="s2">: </span><span class="s0">Column</span><span class="s2">(</span>
        <span class="s0">children</span><span class="s2">: [</span>
          <span class="s0">DrawerHeader</span><span class="s2">(</span>
            <span class="s0">decoration</span><span class="s2">: </span><span class="s0">BoxDecoration</span><span class="s2">(</span>
              <span class="s0">gradient</span><span class="s2">: </span><span class="s0">LinearGradient</span><span class="s2">(</span>
                <span class="s0">begin</span><span class="s2">: </span><span class="s0">Alignment</span><span class="s2">.</span><span class="s0">topLeft</span><span class="s2">,</span>
                <span class="s0">end</span><span class="s2">: </span><span class="s0">Alignment</span><span class="s2">.</span><span class="s0">bottomRight</span><span class="s2">,</span>
                <span class="s0">colors</span><span class="s2">: [</span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">blue</span><span class="s2">.</span><span class="s0">shade700</span><span class="s2">, </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">blue</span><span class="s2">.</span><span class="s0">shade900</span><span class="s2">],</span>
              <span class="s2">),</span>
            <span class="s2">),</span>
            <span class="s0">child</span><span class="s2">: </span><span class="s0">Column</span><span class="s2">(</span>
              <span class="s0">crossAxisAlignment</span><span class="s2">: </span><span class="s0">CrossAxisAlignment</span><span class="s2">.</span><span class="s0">start</span><span class="s2">,</span>
              <span class="s0">children</span><span class="s2">: [</span>
                <span class="s0">Row</span><span class="s2">(</span>
                  <span class="s0">children</span><span class="s2">: [</span>
                    <span class="s0">Container</span><span class="s2">(</span>
                      <span class="s0">padding</span><span class="s2">: </span><span class="s3">const </span><span class="s0">EdgeInsets</span><span class="s2">.</span><span class="s0">all</span><span class="s2">(</span><span class="s4">8</span><span class="s2">),</span>
                      <span class="s0">decoration</span><span class="s2">: </span><span class="s0">BoxDecoration</span><span class="s2">(</span>
                        <span class="s0">color</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">white</span><span class="s2">,</span>
                        <span class="s0">borderRadius</span><span class="s2">: </span><span class="s0">BorderRadius</span><span class="s2">.</span><span class="s0">circular</span><span class="s2">(</span><span class="s4">8</span><span class="s2">),</span>
                      <span class="s2">),</span>
                      <span class="s0">child</span><span class="s2">: </span><span class="s0">Icon</span><span class="s2">(</span>
                        <span class="s0">Icons</span><span class="s2">.</span><span class="s0">directions_bus</span><span class="s2">,</span>
                        <span class="s0">color</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">blue</span><span class="s2">.</span><span class="s0">shade800</span><span class="s2">,</span>
                        <span class="s0">size</span><span class="s2">: </span><span class="s4">32</span><span class="s2">,</span>
                      <span class="s2">),</span>
                    <span class="s2">),</span>
                    <span class="s3">const </span><span class="s0">SizedBox</span><span class="s2">(</span><span class="s0">width</span><span class="s2">: </span><span class="s4">12</span><span class="s2">),</span>
                    <span class="s3">const </span><span class="s0">Expanded</span><span class="s2">(</span>
                      <span class="s0">child</span><span class="s2">: </span><span class="s0">Text</span><span class="s2">(</span>
                        <span class="s1">'Mantenimiento\nBuses Suray'</span><span class="s2">,</span>
                        <span class="s0">style</span><span class="s2">: </span><span class="s0">TextStyle</span><span class="s2">(</span>
                          <span class="s0">color</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">white</span><span class="s2">,</span>
                          <span class="s0">fontSize</span><span class="s2">: </span><span class="s4">20</span><span class="s2">,</span>
                          <span class="s0">fontWeight</span><span class="s2">: </span><span class="s0">FontWeight</span><span class="s2">.</span><span class="s0">bold</span><span class="s2">,</span>
                        <span class="s2">),</span>
                      <span class="s2">),</span>
                    <span class="s2">),</span>
                  <span class="s2">],</span>
                <span class="s2">),</span>
                <span class="s3">const </span><span class="s0">SizedBox</span><span class="s2">(</span><span class="s0">height</span><span class="s2">: </span><span class="s4">16</span><span class="s2">),</span>
                <span class="s0">Text</span><span class="s2">(</span>
                  <span class="s1">'Sistema de Gestión de Flota'</span><span class="s2">,</span>
                  <span class="s0">style</span><span class="s2">: </span><span class="s0">TextStyle</span><span class="s2">(</span>
                    <span class="s0">color</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">white</span><span class="s2">.</span><span class="s0">withOpacity</span><span class="s2">(</span><span class="s4">0.8</span><span class="s2">),</span>
                    <span class="s0">fontSize</span><span class="s2">: </span><span class="s4">14</span><span class="s2">,</span>
                  <span class="s2">),</span>
                <span class="s2">),</span>
              <span class="s2">],</span>
            <span class="s2">),</span>
          <span class="s2">),</span>

          <span class="s0">_buildDrawerItem</span><span class="s2">(</span>
            <span class="s0">icon</span><span class="s2">: </span><span class="s0">Icons</span><span class="s2">.</span><span class="s0">directions_bus_filled</span><span class="s2">,</span>
            <span class="s0">title</span><span class="s2">: </span><span class="s1">'Ver Máquinas'</span><span class="s2">,</span>
            <span class="s0">onTap</span><span class="s2">: </span><span class="s0">_hayDatosMaquinas </span><span class="s2">? </span><span class="s0">_navegarAMaquinas </span><span class="s2">: </span><span class="s3">null</span><span class="s2">,</span>
            <span class="s0">enabled</span><span class="s2">: </span><span class="s0">_hayDatosMaquinas</span><span class="s2">,</span>
          <span class="s2">),</span>
          <span class="s0">_buildDrawerItem</span><span class="s2">(</span>
            <span class="s0">icon</span><span class="s2">: </span><span class="s0">Icons</span><span class="s2">.</span><span class="s0">add_circle_outline</span><span class="s2">,</span>
            <span class="s0">title</span><span class="s2">: </span><span class="s1">'Agregar Máquina'</span><span class="s2">,</span>
            <span class="s0">onTap</span><span class="s2">: </span><span class="s0">_editarMaquina</span><span class="s2">,</span>
          <span class="s2">),</span>
          <span class="s0">_buildDrawerItem</span><span class="s2">(</span>
            <span class="s0">icon</span><span class="s2">: </span><span class="s0">Icons</span><span class="s2">.</span><span class="s0">assessment</span><span class="s2">,</span>
            <span class="s0">title</span><span class="s2">: </span><span class="s1">'Generar Reporte'</span><span class="s2">,</span>
            <span class="s0">onTap</span><span class="s2">: </span><span class="s0">_hayDatosMaquinas </span><span class="s2">? </span><span class="s0">_navegarAGenerarReporte </span><span class="s2">: </span><span class="s3">null</span><span class="s2">,</span>
            <span class="s0">enabled</span><span class="s2">: </span><span class="s0">_hayDatosMaquinas</span><span class="s2">,</span>
          <span class="s2">),</span>
          <span class="s0">_buildDrawerItem</span><span class="s2">(</span>
            <span class="s0">icon</span><span class="s2">: </span><span class="s0">Icons</span><span class="s2">.</span><span class="s0">table_chart</span><span class="s2">,</span>
            <span class="s0">title</span><span class="s2">: </span><span class="s1">'Exportar a Excel'</span><span class="s2">,</span>
            <span class="s0">onTap</span><span class="s2">: </span><span class="s0">_hayDatosMaquinas </span><span class="s2">? </span><span class="s0">_navegarAExportarExcel </span><span class="s2">: </span><span class="s3">null</span><span class="s2">,</span>
            <span class="s0">enabled</span><span class="s2">: </span><span class="s0">_hayDatosMaquinas</span><span class="s2">,</span>
          <span class="s2">),</span>
          <span class="s0">_buildDrawerItem</span><span class="s2">(</span>
            <span class="s0">icon</span><span class="s2">: </span><span class="s0">Icons</span><span class="s2">.</span><span class="s0">save_alt</span><span class="s2">,</span>
            <span class="s0">title</span><span class="s2">: </span><span class="s1">'Crear Respaldo'</span><span class="s2">,</span>
            <span class="s0">onTap</span><span class="s2">: </span><span class="s0">_hayDatosMaquinas </span><span class="s2">? </span><span class="s0">_navegarAExportarDocumento </span><span class="s2">: </span><span class="s3">null</span><span class="s2">,</span>
            <span class="s0">enabled</span><span class="s2">: </span><span class="s0">_hayDatosMaquinas</span><span class="s2">,</span>
          <span class="s2">),</span>
          <span class="s3">const </span><span class="s0">Divider</span><span class="s2">(),</span>
          <span class="s0">_buildDrawerItem</span><span class="s2">(</span>
            <span class="s0">icon</span><span class="s2">: </span><span class="s0">Icons</span><span class="s2">.</span><span class="s0">upload_file</span><span class="s2">,</span>
            <span class="s0">title</span><span class="s2">: </span><span class="s1">'Importar Documento'</span><span class="s2">,</span>
            <span class="s0">onTap</span><span class="s2">: </span><span class="s0">_navegarAImportarDocumento</span><span class="s2">,</span>
          <span class="s2">),</span>
          <span class="s0">_buildDrawerItem</span><span class="s2">(</span>
            <span class="s0">icon</span><span class="s2">: </span><span class="s0">Icons</span><span class="s2">.</span><span class="s0">settings</span><span class="s2">,</span>
            <span class="s0">title</span><span class="s2">: </span><span class="s1">'Configuración'</span><span class="s2">,</span>
            <span class="s0">onTap</span><span class="s2">: </span><span class="s0">_navegarAConfiguracion</span><span class="s2">,</span>
          <span class="s2">),</span>

          <span class="s3">const </span><span class="s0">Spacer</span><span class="s2">(),</span>

          <span class="s0">Container</span><span class="s2">(</span>
            <span class="s0">padding</span><span class="s2">: </span><span class="s3">const </span><span class="s0">EdgeInsets</span><span class="s2">.</span><span class="s0">all</span><span class="s2">(</span><span class="s4">16</span><span class="s2">),</span>
            <span class="s0">child</span><span class="s2">: </span><span class="s0">Text</span><span class="s2">(</span>
              <span class="s1">'v1.0.0'</span><span class="s2">,</span>
              <span class="s0">style</span><span class="s2">: </span><span class="s0">TextStyle</span><span class="s2">(</span>
                <span class="s0">color</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">grey</span><span class="s2">.</span><span class="s0">shade600</span><span class="s2">,</span>
                <span class="s0">fontSize</span><span class="s2">: </span><span class="s4">12</span><span class="s2">,</span>
              <span class="s2">),</span>
            <span class="s2">),</span>
          <span class="s2">),</span>
        <span class="s2">],</span>
      <span class="s2">),</span>
    <span class="s2">);</span>
  <span class="s2">}</span>

  <span class="s0">Widget _buildDrawerItem</span><span class="s2">({</span>
    <span class="s0">required IconData icon</span><span class="s2">,</span>
    <span class="s0">required String title</span><span class="s2">,</span>
    <span class="s0">required VoidCallback</span><span class="s2">? </span><span class="s0">onTap</span><span class="s2">,</span>
    <span class="s0">bool enabled </span><span class="s2">= </span><span class="s3">true</span><span class="s2">,</span>
  <span class="s2">}) {</span>
    <span class="s3">return </span><span class="s0">ListTile</span><span class="s2">(</span>
      <span class="s0">leading</span><span class="s2">: </span><span class="s0">Icon</span><span class="s2">(</span>
        <span class="s0">icon</span><span class="s2">,</span>
        <span class="s0">color</span><span class="s2">: </span><span class="s0">enabled </span><span class="s2">? </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">blue</span><span class="s2">.</span><span class="s0">shade700 </span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">grey</span><span class="s2">,</span>
      <span class="s2">),</span>
      <span class="s0">title</span><span class="s2">: </span><span class="s0">Text</span><span class="s2">(</span>
        <span class="s0">title</span><span class="s2">,</span>
        <span class="s0">style</span><span class="s2">: </span><span class="s0">TextStyle</span><span class="s2">(</span>
          <span class="s0">color</span><span class="s2">: </span><span class="s0">enabled </span><span class="s2">? </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">black87 </span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">grey</span><span class="s2">,</span>
        <span class="s2">),</span>
      <span class="s2">),</span>
      <span class="s0">onTap</span><span class="s2">: </span><span class="s0">enabled</span>
          <span class="s2">? () {</span>
        <span class="s0">Navigator</span><span class="s2">.</span><span class="s0">pop</span><span class="s2">(</span><span class="s0">context</span><span class="s2">);</span>
        <span class="s0">onTap</span><span class="s2">?.</span><span class="s0">call</span><span class="s2">();</span>
      <span class="s2">}</span>
          <span class="s2">: </span><span class="s3">null</span><span class="s2">,</span>
      <span class="s0">enabled</span><span class="s2">: </span><span class="s0">enabled</span><span class="s2">,</span>
    <span class="s2">);</span>
  <span class="s2">}</span>

  <span class="s0">Widget _buildWindowsLayout</span><span class="s2">() {</span>
    <span class="s3">return </span><span class="s0">Row</span><span class="s2">(</span>
      <span class="s0">children</span><span class="s2">: [</span>
        <span class="s0">_buildWindowsSidebar</span><span class="s2">(),</span>

        <span class="s0">Expanded</span><span class="s2">(</span>
          <span class="s0">child</span><span class="s2">: </span><span class="s0">Container</span><span class="s2">(</span>
            <span class="s0">color</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">grey</span><span class="s2">.</span><span class="s0">shade50</span><span class="s2">,</span>
            <span class="s0">child</span><span class="s2">: </span><span class="s0">Column</span><span class="s2">(</span>
              <span class="s0">crossAxisAlignment</span><span class="s2">: </span><span class="s0">CrossAxisAlignment</span><span class="s2">.</span><span class="s0">start</span><span class="s2">,</span>
              <span class="s0">children</span><span class="s2">: [</span>
                <span class="s0">_buildWindowsHeader</span><span class="s2">(),</span>

                <span class="s0">Expanded</span><span class="s2">(</span>
                  <span class="s0">child</span><span class="s2">: </span><span class="s0">Padding</span><span class="s2">(</span>
                    <span class="s0">padding</span><span class="s2">: </span><span class="s3">const </span><span class="s0">EdgeInsets</span><span class="s2">.</span><span class="s0">all</span><span class="s2">(</span><span class="s4">16</span><span class="s2">),</span>
                    <span class="s0">child</span><span class="s2">: </span><span class="s0">Container</span><span class="s2">(), </span><span class="s5">// Contenedor vacío para quitar el panel de acciones rápidas</span>
                  <span class="s2">),</span>
                <span class="s2">),</span>
              <span class="s2">],</span>
            <span class="s2">),</span>
          <span class="s2">),</span>
        <span class="s2">),</span>
      <span class="s2">],</span>
    <span class="s2">);</span>
  <span class="s2">}</span>

  <span class="s0">Widget _buildWindowsSidebar</span><span class="s2">() {</span>
    <span class="s3">return </span><span class="s0">Container</span><span class="s2">(</span>
      <span class="s0">width</span><span class="s2">: </span><span class="s4">240</span><span class="s2">,</span>
      <span class="s0">color</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">white</span><span class="s2">,</span>
      <span class="s0">child</span><span class="s2">: </span><span class="s0">Column</span><span class="s2">(</span>
        <span class="s0">children</span><span class="s2">: [</span>
          <span class="s0">Container</span><span class="s2">(</span>
            <span class="s0">padding</span><span class="s2">: </span><span class="s3">const </span><span class="s0">EdgeInsets</span><span class="s2">.</span><span class="s0">all</span><span class="s2">(</span><span class="s4">16</span><span class="s2">),</span>
            <span class="s0">child</span><span class="s2">: </span><span class="s0">Row</span><span class="s2">(</span>
              <span class="s0">children</span><span class="s2">: [</span>
                <span class="s0">Container</span><span class="s2">(</span>
                  <span class="s0">padding</span><span class="s2">: </span><span class="s3">const </span><span class="s0">EdgeInsets</span><span class="s2">.</span><span class="s0">all</span><span class="s2">(</span><span class="s4">8</span><span class="s2">),</span>
                  <span class="s0">decoration</span><span class="s2">: </span><span class="s0">BoxDecoration</span><span class="s2">(</span>
                    <span class="s0">color</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">blue</span><span class="s2">.</span><span class="s0">shade100</span><span class="s2">,</span>
                    <span class="s0">borderRadius</span><span class="s2">: </span><span class="s0">BorderRadius</span><span class="s2">.</span><span class="s0">circular</span><span class="s2">(</span><span class="s4">8</span><span class="s2">),</span>
                  <span class="s2">),</span>
                  <span class="s0">child</span><span class="s2">: </span><span class="s0">Icon</span><span class="s2">(</span>
                    <span class="s0">Icons</span><span class="s2">.</span><span class="s0">directions_bus</span><span class="s2">,</span>
                    <span class="s0">color</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">blue</span><span class="s2">.</span><span class="s0">shade800</span><span class="s2">,</span>
                    <span class="s0">size</span><span class="s2">: </span><span class="s4">24</span><span class="s2">,</span>
                  <span class="s2">),</span>
                <span class="s2">),</span>
                <span class="s3">const </span><span class="s0">SizedBox</span><span class="s2">(</span><span class="s0">width</span><span class="s2">: </span><span class="s4">12</span><span class="s2">),</span>
                <span class="s0">Text</span><span class="s2">(</span>
                  <span class="s1">'Mantenimiento Suray'</span><span class="s2">,</span>
                  <span class="s0">style</span><span class="s2">: </span><span class="s0">TextStyle</span><span class="s2">(</span>
                    <span class="s0">color</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">blue</span><span class="s2">.</span><span class="s0">shade800</span><span class="s2">,</span>
                    <span class="s0">fontWeight</span><span class="s2">: </span><span class="s0">FontWeight</span><span class="s2">.</span><span class="s0">bold</span><span class="s2">,</span>
                    <span class="s0">fontSize</span><span class="s2">: </span><span class="s4">16</span><span class="s2">,</span>
                  <span class="s2">),</span>
                <span class="s2">),</span>
              <span class="s2">],</span>
            <span class="s2">),</span>
          <span class="s2">),</span>

          <span class="s3">const </span><span class="s0">Divider</span><span class="s2">(</span><span class="s0">height</span><span class="s2">: </span><span class="s4">1</span><span class="s2">),</span>

          <span class="s0">Expanded</span><span class="s2">(</span>
            <span class="s0">child</span><span class="s2">: </span><span class="s0">ListView</span><span class="s2">(</span>
              <span class="s0">padding</span><span class="s2">: </span><span class="s0">EdgeInsets</span><span class="s2">.</span><span class="s0">zero</span><span class="s2">,</span>
              <span class="s0">children</span><span class="s2">: [</span>
                <span class="s0">_buildSidebarCategory</span><span class="s2">(</span><span class="s1">'GESTIÓN DE FLOTA'</span><span class="s2">),</span>

                <span class="s0">_buildSidebarItem</span><span class="s2">(</span>
                  <span class="s0">icon</span><span class="s2">: </span><span class="s0">Icons</span><span class="s2">.</span><span class="s0">directions_bus_filled</span><span class="s2">,</span>
                  <span class="s0">title</span><span class="s2">: </span><span class="s1">'Ver Máquinas'</span><span class="s2">,</span>
                  <span class="s0">isSelected</span><span class="s2">: </span><span class="s0">_selectedIndex </span><span class="s2">== </span><span class="s4">0</span><span class="s2">,</span>
                  <span class="s0">onTap</span><span class="s2">: </span><span class="s0">_hayDatosMaquinas </span><span class="s2">? () {</span>
                    <span class="s0">setState</span><span class="s2">(() =&gt; </span><span class="s0">_selectedIndex </span><span class="s2">= </span><span class="s4">0</span><span class="s2">);</span>
                    <span class="s0">_navegarAMaquinas</span><span class="s2">();</span>
                  <span class="s2">} : </span><span class="s3">null</span><span class="s2">,</span>
                  <span class="s0">enabled</span><span class="s2">: </span><span class="s0">_hayDatosMaquinas</span><span class="s2">,</span>
                <span class="s2">),</span>

                <span class="s0">_buildSidebarItem</span><span class="s2">(</span>
                  <span class="s0">icon</span><span class="s2">: </span><span class="s0">Icons</span><span class="s2">.</span><span class="s0">add_circle_outline</span><span class="s2">,</span>
                  <span class="s0">title</span><span class="s2">: </span><span class="s1">'Agregar Máquina'</span><span class="s2">,</span>
                  <span class="s0">isSelected</span><span class="s2">: </span><span class="s0">_selectedIndex </span><span class="s2">== </span><span class="s4">1</span><span class="s2">,</span>
                  <span class="s0">onTap</span><span class="s2">: () {</span>
                    <span class="s0">setState</span><span class="s2">(() =&gt; </span><span class="s0">_selectedIndex </span><span class="s2">= </span><span class="s4">1</span><span class="s2">);</span>
                    <span class="s0">_editarMaquina</span><span class="s2">();</span>
                  <span class="s2">},</span>
                <span class="s2">),</span>

                <span class="s0">_buildSidebarItem</span><span class="s2">(</span>
                  <span class="s0">icon</span><span class="s2">: </span><span class="s0">Icons</span><span class="s2">.</span><span class="s0">assessment</span><span class="s2">,</span>
                  <span class="s0">title</span><span class="s2">: </span><span class="s1">'Reportes'</span><span class="s2">,</span>
                  <span class="s0">isSelected</span><span class="s2">: </span><span class="s0">_selectedIndex </span><span class="s2">== </span><span class="s4">2</span><span class="s2">,</span>
                  <span class="s0">onTap</span><span class="s2">: </span><span class="s0">_hayDatosMaquinas </span><span class="s2">? () {</span>
                    <span class="s0">setState</span><span class="s2">(() =&gt; </span><span class="s0">_selectedIndex </span><span class="s2">= </span><span class="s4">2</span><span class="s2">);</span>
                    <span class="s0">_navegarAGenerarReporte</span><span class="s2">();</span>
                  <span class="s2">} : </span><span class="s3">null</span><span class="s2">,</span>
                  <span class="s0">enabled</span><span class="s2">: </span><span class="s0">_hayDatosMaquinas</span><span class="s2">,</span>
                <span class="s2">),</span>

                <span class="s0">_buildSidebarCategory</span><span class="s2">(</span><span class="s1">'EXPORTACIÓN E IMPORTACIÓN'</span><span class="s2">),</span>

                <span class="s0">_buildSidebarItem</span><span class="s2">(</span>
                  <span class="s0">icon</span><span class="s2">: </span><span class="s0">Icons</span><span class="s2">.</span><span class="s0">table_chart</span><span class="s2">,</span>
                  <span class="s0">title</span><span class="s2">: </span><span class="s1">'Exportar a Excel'</span><span class="s2">,</span>
                  <span class="s0">isSelected</span><span class="s2">: </span><span class="s0">_selectedIndex </span><span class="s2">== </span><span class="s4">3</span><span class="s2">,</span>
                  <span class="s0">onTap</span><span class="s2">: </span><span class="s0">_hayDatosMaquinas </span><span class="s2">? () {</span>
                    <span class="s0">setState</span><span class="s2">(() =&gt; </span><span class="s0">_selectedIndex </span><span class="s2">= </span><span class="s4">3</span><span class="s2">);</span>
                    <span class="s0">_navegarAExportarExcel</span><span class="s2">();</span>
                  <span class="s2">} : </span><span class="s3">null</span><span class="s2">,</span>
                  <span class="s0">enabled</span><span class="s2">: </span><span class="s0">_hayDatosMaquinas</span><span class="s2">,</span>
                <span class="s2">),</span>

                <span class="s0">_buildSidebarItem</span><span class="s2">(</span>
                  <span class="s0">icon</span><span class="s2">: </span><span class="s0">Icons</span><span class="s2">.</span><span class="s0">save_alt</span><span class="s2">,</span>
                  <span class="s0">title</span><span class="s2">: </span><span class="s1">'Crear Respaldo'</span><span class="s2">,</span>
                  <span class="s0">isSelected</span><span class="s2">: </span><span class="s0">_selectedIndex </span><span class="s2">== </span><span class="s4">4</span><span class="s2">,</span>
                  <span class="s0">onTap</span><span class="s2">: </span><span class="s0">_hayDatosMaquinas </span><span class="s2">? () {</span>
                    <span class="s0">setState</span><span class="s2">(() =&gt; </span><span class="s0">_selectedIndex </span><span class="s2">= </span><span class="s4">4</span><span class="s2">);</span>
                    <span class="s0">_navegarAExportarDocumento</span><span class="s2">();</span>
                  <span class="s2">} : </span><span class="s3">null</span><span class="s2">,</span>
                  <span class="s0">enabled</span><span class="s2">: </span><span class="s0">_hayDatosMaquinas</span><span class="s2">,</span>
                <span class="s2">),</span>

                <span class="s0">_buildSidebarItem</span><span class="s2">(</span>
                  <span class="s0">icon</span><span class="s2">: </span><span class="s0">Icons</span><span class="s2">.</span><span class="s0">upload_file</span><span class="s2">,</span>
                  <span class="s0">title</span><span class="s2">: </span><span class="s1">'Importar Documento'</span><span class="s2">,</span>
                  <span class="s0">isSelected</span><span class="s2">: </span><span class="s0">_selectedIndex </span><span class="s2">== </span><span class="s4">5</span><span class="s2">,</span>
                  <span class="s0">onTap</span><span class="s2">: () {</span>
                    <span class="s0">setState</span><span class="s2">(() =&gt; </span><span class="s0">_selectedIndex </span><span class="s2">= </span><span class="s4">5</span><span class="s2">);</span>
                    <span class="s0">_navegarAImportarDocumento</span><span class="s2">();</span>
                  <span class="s2">},</span>
                <span class="s2">),</span>

                <span class="s0">_buildSidebarItem</span><span class="s2">(</span>
                  <span class="s0">icon</span><span class="s2">: </span><span class="s0">Icons</span><span class="s2">.</span><span class="s0">upload_file</span><span class="s2">,</span>
                  <span class="s0">title</span><span class="s2">: </span><span class="s1">'Importar Excel'</span><span class="s2">,</span>
                  <span class="s0">isSelected</span><span class="s2">: </span><span class="s0">_selectedIndex </span><span class="s2">== </span><span class="s4">6</span><span class="s2">,</span>
                  <span class="s0">onTap</span><span class="s2">: () {</span>
                    <span class="s0">setState</span><span class="s2">(() =&gt; </span><span class="s0">_selectedIndex </span><span class="s2">= </span><span class="s4">6</span><span class="s2">);</span>
                    <span class="s0">_navegarAImportarExcel</span><span class="s2">();</span>
                  <span class="s2">},</span>
                <span class="s2">),</span>

                <span class="s0">_buildSidebarCategory</span><span class="s2">(</span><span class="s1">'CONFIGURACIÓN'</span><span class="s2">),</span>

                <span class="s0">_buildSidebarItem</span><span class="s2">(</span>
                  <span class="s0">icon</span><span class="s2">: </span><span class="s0">Icons</span><span class="s2">.</span><span class="s0">settings</span><span class="s2">,</span>
                  <span class="s0">title</span><span class="s2">: </span><span class="s1">'Configuración'</span><span class="s2">,</span>
                  <span class="s0">isSelected</span><span class="s2">: </span><span class="s0">_selectedIndex </span><span class="s2">== </span><span class="s4">8</span><span class="s2">,</span>
                  <span class="s0">onTap</span><span class="s2">: () {</span>
                    <span class="s0">setState</span><span class="s2">(() =&gt; </span><span class="s0">_selectedIndex </span><span class="s2">= </span><span class="s4">8</span><span class="s2">);</span>
                    <span class="s0">_navegarAConfiguracion</span><span class="s2">();</span>
                  <span class="s2">},</span>
                <span class="s2">),</span>
              <span class="s2">],</span>
            <span class="s2">),</span>
          <span class="s2">),</span>

          <span class="s0">Container</span><span class="s2">(</span>
            <span class="s0">padding</span><span class="s2">: </span><span class="s3">const </span><span class="s0">EdgeInsets</span><span class="s2">.</span><span class="s0">all</span><span class="s2">(</span><span class="s4">16</span><span class="s2">),</span>
            <span class="s0">color</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">grey</span><span class="s2">.</span><span class="s0">shade50</span><span class="s2">,</span>
            <span class="s0">child</span><span class="s2">: </span><span class="s0">Row</span><span class="s2">(</span>
              <span class="s0">mainAxisAlignment</span><span class="s2">: </span><span class="s0">MainAxisAlignment</span><span class="s2">.</span><span class="s0">spaceBetween</span><span class="s2">,</span>
              <span class="s0">children</span><span class="s2">: [</span>
                <span class="s0">Text</span><span class="s2">(</span>
                  <span class="s1">'© </span><span class="s2">${</span><span class="s0">DateTime</span><span class="s2">.</span><span class="s0">now</span><span class="s2">().</span><span class="s0">year</span><span class="s2">} </span><span class="s1">Suray'</span><span class="s2">,</span>
                  <span class="s0">style</span><span class="s2">: </span><span class="s0">TextStyle</span><span class="s2">(</span>
                    <span class="s0">color</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">grey</span><span class="s2">.</span><span class="s0">shade600</span><span class="s2">,</span>
                    <span class="s0">fontSize</span><span class="s2">: </span><span class="s4">12</span><span class="s2">,</span>
                  <span class="s2">),</span>
                <span class="s2">),</span>
                <span class="s0">Text</span><span class="s2">(</span>
                  <span class="s1">'v1.0.0'</span><span class="s2">,</span>
                  <span class="s0">style</span><span class="s2">: </span><span class="s0">TextStyle</span><span class="s2">(</span>
                    <span class="s0">color</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">grey</span><span class="s2">.</span><span class="s0">shade600</span><span class="s2">,</span>
                    <span class="s0">fontSize</span><span class="s2">: </span><span class="s4">12</span><span class="s2">,</span>
                  <span class="s2">),</span>
                <span class="s2">),</span>
              <span class="s2">],</span>
            <span class="s2">),</span>
          <span class="s2">),</span>
        <span class="s2">],</span>
      <span class="s2">),</span>
    <span class="s2">);</span>
  <span class="s2">}</span>

  <span class="s0">Widget _buildSidebarCategory</span><span class="s2">(</span><span class="s0">String title</span><span class="s2">) {</span>
    <span class="s3">return </span><span class="s0">Padding</span><span class="s2">(</span>
      <span class="s0">padding</span><span class="s2">: </span><span class="s3">const </span><span class="s0">EdgeInsets</span><span class="s2">.</span><span class="s0">fromLTRB</span><span class="s2">(</span><span class="s4">16</span><span class="s2">, </span><span class="s4">16</span><span class="s2">, </span><span class="s4">16</span><span class="s2">, </span><span class="s4">8</span><span class="s2">),</span>
      <span class="s0">child</span><span class="s2">: </span><span class="s0">Text</span><span class="s2">(</span>
        <span class="s0">title</span><span class="s2">,</span>
        <span class="s0">style</span><span class="s2">: </span><span class="s0">TextStyle</span><span class="s2">(</span>
          <span class="s0">color</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">grey</span><span class="s2">.</span><span class="s0">shade600</span><span class="s2">,</span>
          <span class="s0">fontSize</span><span class="s2">: </span><span class="s4">12</span><span class="s2">,</span>
          <span class="s0">fontWeight</span><span class="s2">: </span><span class="s0">FontWeight</span><span class="s2">.</span><span class="s0">bold</span><span class="s2">,</span>
        <span class="s2">),</span>
      <span class="s2">),</span>
    <span class="s2">);</span>
  <span class="s2">}</span>

  <span class="s0">Widget _buildSidebarItem</span><span class="s2">({</span>
    <span class="s0">required IconData icon</span><span class="s2">,</span>
    <span class="s0">required String title</span><span class="s2">,</span>
    <span class="s0">String</span><span class="s2">? </span><span class="s0">shortcut</span><span class="s2">,</span>
    <span class="s0">required bool isSelected</span><span class="s2">,</span>
    <span class="s0">required VoidCallback</span><span class="s2">? </span><span class="s0">onTap</span><span class="s2">,</span>
    <span class="s0">bool enabled </span><span class="s2">= </span><span class="s3">true</span><span class="s2">,</span>
  <span class="s2">}) {</span>
    <span class="s3">return </span><span class="s0">MouseRegion</span><span class="s2">(</span>
      <span class="s0">onEnter</span><span class="s2">: (</span><span class="s0">_</span><span class="s2">) =&gt; </span><span class="s0">setState</span><span class="s2">(() =&gt; </span><span class="s0">_isHovering </span><span class="s2">= </span><span class="s3">true</span><span class="s2">),</span>
      <span class="s0">onExit</span><span class="s2">: (</span><span class="s0">_</span><span class="s2">) =&gt; </span><span class="s0">setState</span><span class="s2">(() =&gt; </span><span class="s0">_isHovering </span><span class="s2">= </span><span class="s3">false</span><span class="s2">),</span>
      <span class="s0">child</span><span class="s2">: </span><span class="s0">Container</span><span class="s2">(</span>
        <span class="s0">margin</span><span class="s2">: </span><span class="s3">const </span><span class="s0">EdgeInsets</span><span class="s2">.</span><span class="s0">symmetric</span><span class="s2">(</span><span class="s0">horizontal</span><span class="s2">: </span><span class="s4">8</span><span class="s2">, </span><span class="s0">vertical</span><span class="s2">: </span><span class="s4">2</span><span class="s2">),</span>
        <span class="s0">decoration</span><span class="s2">: </span><span class="s0">BoxDecoration</span><span class="s2">(</span>
          <span class="s0">color</span><span class="s2">: </span><span class="s0">isSelected </span><span class="s2">? </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">blue</span><span class="s2">.</span><span class="s0">shade50 </span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">transparent</span><span class="s2">,</span>
          <span class="s0">borderRadius</span><span class="s2">: </span><span class="s0">BorderRadius</span><span class="s2">.</span><span class="s0">circular</span><span class="s2">(</span><span class="s4">6</span><span class="s2">),</span>
        <span class="s2">),</span>
        <span class="s0">child</span><span class="s2">: </span><span class="s0">ListTile</span><span class="s2">(</span>
          <span class="s0">leading</span><span class="s2">: </span><span class="s0">Icon</span><span class="s2">(</span>
            <span class="s0">icon</span><span class="s2">,</span>
            <span class="s0">color</span><span class="s2">: !</span><span class="s0">enabled</span>
                <span class="s2">? </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">grey</span><span class="s2">.</span><span class="s0">shade400</span>
                <span class="s2">: (</span><span class="s0">isSelected </span><span class="s2">? </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">blue</span><span class="s2">.</span><span class="s0">shade700 </span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">grey</span><span class="s2">.</span><span class="s0">shade700</span><span class="s2">),</span>
            <span class="s0">size</span><span class="s2">: </span><span class="s4">20</span><span class="s2">,</span>
          <span class="s2">),</span>
          <span class="s0">title</span><span class="s2">: </span><span class="s0">Text</span><span class="s2">(</span>
            <span class="s0">title</span><span class="s2">,</span>
            <span class="s0">style</span><span class="s2">: </span><span class="s0">TextStyle</span><span class="s2">(</span>
              <span class="s0">color</span><span class="s2">: !</span><span class="s0">enabled</span>
                  <span class="s2">? </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">grey</span><span class="s2">.</span><span class="s0">shade400</span>
                  <span class="s2">: (</span><span class="s0">isSelected </span><span class="s2">? </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">blue</span><span class="s2">.</span><span class="s0">shade800 </span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">grey</span><span class="s2">.</span><span class="s0">shade900</span><span class="s2">),</span>
              <span class="s0">fontWeight</span><span class="s2">: </span><span class="s0">isSelected </span><span class="s2">? </span><span class="s0">FontWeight</span><span class="s2">.</span><span class="s0">bold </span><span class="s2">: </span><span class="s0">FontWeight</span><span class="s2">.</span><span class="s0">normal</span><span class="s2">,</span>
              <span class="s0">fontSize</span><span class="s2">: </span><span class="s4">14</span><span class="s2">,</span>
            <span class="s2">),</span>
          <span class="s2">),</span>
          <span class="s0">dense</span><span class="s2">: </span><span class="s3">true</span><span class="s2">,</span>
          <span class="s0">onTap</span><span class="s2">: </span><span class="s0">enabled </span><span class="s2">? </span><span class="s0">onTap </span><span class="s2">: </span><span class="s3">null</span><span class="s2">,</span>
          <span class="s0">selected</span><span class="s2">: </span><span class="s0">isSelected</span><span class="s2">,</span>
          <span class="s0">enabled</span><span class="s2">: </span><span class="s0">enabled</span><span class="s2">,</span>
          <span class="s0">shape</span><span class="s2">: </span><span class="s0">RoundedRectangleBorder</span><span class="s2">(</span>
            <span class="s0">borderRadius</span><span class="s2">: </span><span class="s0">BorderRadius</span><span class="s2">.</span><span class="s0">circular</span><span class="s2">(</span><span class="s4">6</span><span class="s2">),</span>
          <span class="s2">),</span>
        <span class="s2">),</span>
      <span class="s2">),</span>
    <span class="s2">);</span>
  <span class="s2">}</span>

  <span class="s0">Widget _buildWindowsHeader</span><span class="s2">() {</span>
    <span class="s3">return </span><span class="s0">Container</span><span class="s2">(</span>
      <span class="s0">padding</span><span class="s2">: </span><span class="s3">const </span><span class="s0">EdgeInsets</span><span class="s2">.</span><span class="s0">all</span><span class="s2">(</span><span class="s4">24</span><span class="s2">),</span>
      <span class="s0">decoration</span><span class="s2">: </span><span class="s3">const </span><span class="s0">BoxDecoration</span><span class="s2">(</span>
        <span class="s0">color</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">white</span><span class="s2">,</span>
        <span class="s0">boxShadow</span><span class="s2">: [</span>
          <span class="s0">BoxShadow</span><span class="s2">(</span>
            <span class="s0">color</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">black12</span><span class="s2">,</span>
            <span class="s0">blurRadius</span><span class="s2">: </span><span class="s4">4</span><span class="s2">,</span>
            <span class="s0">offset</span><span class="s2">: </span><span class="s0">Offset</span><span class="s2">(</span><span class="s4">0</span><span class="s2">, </span><span class="s4">2</span><span class="s2">),</span>
          <span class="s2">),</span>
        <span class="s2">],</span>
      <span class="s2">),</span>
      <span class="s0">child</span><span class="s2">: </span><span class="s0">Column</span><span class="s2">(</span>
        <span class="s0">crossAxisAlignment</span><span class="s2">: </span><span class="s0">CrossAxisAlignment</span><span class="s2">.</span><span class="s0">start</span><span class="s2">,</span>
        <span class="s0">children</span><span class="s2">: [</span>
          <span class="s0">Row</span><span class="s2">(</span>
            <span class="s0">mainAxisAlignment</span><span class="s2">: </span><span class="s0">MainAxisAlignment</span><span class="s2">.</span><span class="s0">spaceBetween</span><span class="s2">,</span>
            <span class="s0">children</span><span class="s2">: [</span>
              <span class="s0">Column</span><span class="s2">(</span>
                <span class="s0">crossAxisAlignment</span><span class="s2">: </span><span class="s0">CrossAxisAlignment</span><span class="s2">.</span><span class="s0">start</span><span class="s2">,</span>
                <span class="s0">children</span><span class="s2">: [</span>
                  <span class="s3">const </span><span class="s0">Text</span><span class="s2">(</span>
                    <span class="s1">'Panel de Control'</span><span class="s2">,</span>
                    <span class="s0">style</span><span class="s2">: </span><span class="s0">TextStyle</span><span class="s2">(</span>
                      <span class="s0">fontSize</span><span class="s2">: </span><span class="s4">24</span><span class="s2">,</span>
                      <span class="s0">fontWeight</span><span class="s2">: </span><span class="s0">FontWeight</span><span class="s2">.</span><span class="s0">bold</span><span class="s2">,</span>
                    <span class="s2">),</span>
                  <span class="s2">),</span>
                  <span class="s3">const </span><span class="s0">SizedBox</span><span class="s2">(</span><span class="s0">height</span><span class="s2">: </span><span class="s4">4</span><span class="s2">),</span>
                  <span class="s0">Text</span><span class="s2">(</span>
                    <span class="s1">'Bienvenido al sistema de gestión de flota de buses'</span><span class="s2">,</span>
                    <span class="s0">style</span><span class="s2">: </span><span class="s0">TextStyle</span><span class="s2">(</span>
                      <span class="s0">color</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">grey</span><span class="s2">.</span><span class="s0">shade600</span><span class="s2">,</span>
                      <span class="s0">fontSize</span><span class="s2">: </span><span class="s4">14</span><span class="s2">,</span>
                    <span class="s2">),</span>
                  <span class="s2">),</span>
                <span class="s2">],</span>
              <span class="s2">),</span>

              <span class="s0">Row</span><span class="s2">(</span>
                <span class="s0">children</span><span class="s2">: [</span>
                  <span class="s0">ElevatedButton</span><span class="s2">.</span><span class="s0">icon</span><span class="s2">(</span>
                    <span class="s0">onPressed</span><span class="s2">: </span><span class="s0">_editarMaquina</span><span class="s2">,</span>
                    <span class="s0">icon</span><span class="s2">: </span><span class="s3">const </span><span class="s0">Icon</span><span class="s2">(</span><span class="s0">Icons</span><span class="s2">.</span><span class="s0">add</span><span class="s2">),</span>
                    <span class="s0">label</span><span class="s2">: </span><span class="s3">const </span><span class="s0">Text</span><span class="s2">(</span><span class="s1">'Nueva Máquina'</span><span class="s2">),</span>
                    <span class="s0">style</span><span class="s2">: </span><span class="s0">ElevatedButton</span><span class="s2">.</span><span class="s0">styleFrom</span><span class="s2">(</span>
                      <span class="s0">backgroundColor</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">green</span><span class="s2">,</span>
                      <span class="s0">foregroundColor</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">white</span><span class="s2">,</span>
                      <span class="s0">padding</span><span class="s2">: </span><span class="s3">const </span><span class="s0">EdgeInsets</span><span class="s2">.</span><span class="s0">symmetric</span><span class="s2">(</span><span class="s0">horizontal</span><span class="s2">: </span><span class="s4">16</span><span class="s2">, </span><span class="s0">vertical</span><span class="s2">: </span><span class="s4">12</span><span class="s2">),</span>
                    <span class="s2">),</span>
                  <span class="s2">),</span>
                  <span class="s3">const </span><span class="s0">SizedBox</span><span class="s2">(</span><span class="s0">width</span><span class="s2">: </span><span class="s4">12</span><span class="s2">),</span>
                  <span class="s0">OutlinedButton</span><span class="s2">.</span><span class="s0">icon</span><span class="s2">(</span>
                    <span class="s0">onPressed</span><span class="s2">: </span><span class="s0">_hayDatosMaquinas </span><span class="s2">? </span><span class="s0">_navegarAGenerarReporte </span><span class="s2">: </span><span class="s3">null</span><span class="s2">,</span>
                    <span class="s0">icon</span><span class="s2">: </span><span class="s3">const </span><span class="s0">Icon</span><span class="s2">(</span><span class="s0">Icons</span><span class="s2">.</span><span class="s0">assessment</span><span class="s2">),</span>
                    <span class="s0">label</span><span class="s2">: </span><span class="s3">const </span><span class="s0">Text</span><span class="s2">(</span><span class="s1">'Ver Reportes'</span><span class="s2">),</span>
                    <span class="s0">style</span><span class="s2">: </span><span class="s0">OutlinedButton</span><span class="s2">.</span><span class="s0">styleFrom</span><span class="s2">(</span>
                      <span class="s0">padding</span><span class="s2">: </span><span class="s3">const </span><span class="s0">EdgeInsets</span><span class="s2">.</span><span class="s0">symmetric</span><span class="s2">(</span><span class="s0">horizontal</span><span class="s2">: </span><span class="s4">16</span><span class="s2">, </span><span class="s0">vertical</span><span class="s2">: </span><span class="s4">12</span><span class="s2">),</span>
                    <span class="s2">),</span>
                  <span class="s2">),</span>
                <span class="s2">],</span>
              <span class="s2">),</span>
            <span class="s2">],</span>
          <span class="s2">),</span>

          <span class="s3">if </span><span class="s2">(</span><span class="s0">_hayDatosMaquinas</span><span class="s2">) </span><span class="s0">...</span><span class="s2">[</span>
            <span class="s3">const </span><span class="s0">SizedBox</span><span class="s2">(</span><span class="s0">height</span><span class="s2">: </span><span class="s4">20</span><span class="s2">),</span>
            <span class="s0">_buildQuickStats</span><span class="s2">(),</span>
          <span class="s2">],</span>
        <span class="s2">],</span>
      <span class="s2">),</span>
    <span class="s2">);</span>
  <span class="s2">}</span>

  <span class="s0">Widget _buildQuickStats</span><span class="s2">() {</span>
    <span class="s3">return </span><span class="s0">Row</span><span class="s2">(</span>
      <span class="s0">children</span><span class="s2">: [</span>
        <span class="s0">_buildStatCard</span><span class="s2">(</span>
          <span class="s0">icon</span><span class="s2">: </span><span class="s0">Icons</span><span class="s2">.</span><span class="s0">directions_bus</span><span class="s2">,</span>
          <span class="s0">title</span><span class="s2">: </span><span class="s1">'Total de Máquinas'</span><span class="s2">,</span>
          <span class="s0">value</span><span class="s2">: </span><span class="s1">'</span><span class="s2">$</span><span class="s0">_totalMaquinas</span><span class="s1">'</span><span class="s2">,</span>
          <span class="s0">color</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">blue</span><span class="s2">,</span>
        <span class="s2">),</span>
        <span class="s3">const </span><span class="s0">SizedBox</span><span class="s2">(</span><span class="s0">width</span><span class="s2">: </span><span class="s4">16</span><span class="s2">),</span>
        <span class="s0">_buildStatCard</span><span class="s2">(</span>
          <span class="s0">icon</span><span class="s2">: </span><span class="s0">Icons</span><span class="s2">.</span><span class="s0">warning</span><span class="s2">,</span>
          <span class="s0">title</span><span class="s2">: </span><span class="s1">'Revisiones Próximas'</span><span class="s2">,</span>
          <span class="s0">value</span><span class="s2">: </span><span class="s1">'</span><span class="s2">$</span><span class="s0">_revisionesProximas</span><span class="s1">'</span><span class="s2">,</span>
          <span class="s0">color</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">orange</span><span class="s2">,</span>
        <span class="s2">),</span>
        <span class="s3">const </span><span class="s0">SizedBox</span><span class="s2">(</span><span class="s0">width</span><span class="s2">: </span><span class="s4">16</span><span class="s2">),</span>
        <span class="s0">_buildStatCard</span><span class="s2">(</span>
          <span class="s0">icon</span><span class="s2">: </span><span class="s0">Icons</span><span class="s2">.</span><span class="s0">dangerous</span><span class="s2">,</span>
          <span class="s0">title</span><span class="s2">: </span><span class="s1">'Revisiones Vencidas'</span><span class="s2">,</span>
          <span class="s0">value</span><span class="s2">: </span><span class="s1">'</span><span class="s2">$</span><span class="s0">_revisionesVencidas</span><span class="s1">'</span><span class="s2">,</span>
          <span class="s0">color</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">red</span><span class="s2">,</span>
        <span class="s2">),</span>
      <span class="s2">],</span>
    <span class="s2">);</span>
  <span class="s2">}</span>

  <span class="s0">Widget _buildStatCard</span><span class="s2">({</span>
    <span class="s0">required IconData icon</span><span class="s2">,</span>
    <span class="s0">required String title</span><span class="s2">,</span>
    <span class="s0">required String value</span><span class="s2">,</span>
    <span class="s0">required Color color</span><span class="s2">,</span>
  <span class="s2">}) {</span>
    <span class="s3">return </span><span class="s0">Expanded</span><span class="s2">(</span>
      <span class="s0">child</span><span class="s2">: </span><span class="s0">Container</span><span class="s2">(</span>
        <span class="s0">padding</span><span class="s2">: </span><span class="s3">const </span><span class="s0">EdgeInsets</span><span class="s2">.</span><span class="s0">all</span><span class="s2">(</span><span class="s4">16</span><span class="s2">),</span>
        <span class="s0">decoration</span><span class="s2">: </span><span class="s0">BoxDecoration</span><span class="s2">(</span>
          <span class="s0">color</span><span class="s2">: </span><span class="s0">color</span><span class="s2">.</span><span class="s0">withOpacity</span><span class="s2">(</span><span class="s4">0.1</span><span class="s2">),</span>
          <span class="s0">borderRadius</span><span class="s2">: </span><span class="s0">BorderRadius</span><span class="s2">.</span><span class="s0">circular</span><span class="s2">(</span><span class="s4">8</span><span class="s2">),</span>
          <span class="s0">border</span><span class="s2">: </span><span class="s0">Border</span><span class="s2">.</span><span class="s0">all</span><span class="s2">(</span><span class="s0">color</span><span class="s2">: </span><span class="s0">color</span><span class="s2">.</span><span class="s0">withOpacity</span><span class="s2">(</span><span class="s4">0.3</span><span class="s2">)),</span>
        <span class="s2">),</span>
        <span class="s0">child</span><span class="s2">: </span><span class="s0">Row</span><span class="s2">(</span>
          <span class="s0">children</span><span class="s2">: [</span>
            <span class="s0">Container</span><span class="s2">(</span>
              <span class="s0">padding</span><span class="s2">: </span><span class="s3">const </span><span class="s0">EdgeInsets</span><span class="s2">.</span><span class="s0">all</span><span class="s2">(</span><span class="s4">10</span><span class="s2">),</span>
              <span class="s0">decoration</span><span class="s2">: </span><span class="s0">BoxDecoration</span><span class="s2">(</span>
                <span class="s0">color</span><span class="s2">: </span><span class="s0">color</span><span class="s2">.</span><span class="s0">withOpacity</span><span class="s2">(</span><span class="s4">0.2</span><span class="s2">),</span>
                <span class="s0">borderRadius</span><span class="s2">: </span><span class="s0">BorderRadius</span><span class="s2">.</span><span class="s0">circular</span><span class="s2">(</span><span class="s4">8</span><span class="s2">),</span>
              <span class="s2">),</span>
              <span class="s0">child</span><span class="s2">: </span><span class="s0">Icon</span><span class="s2">(</span><span class="s0">icon</span><span class="s2">, </span><span class="s0">color</span><span class="s2">: </span><span class="s0">color</span><span class="s2">),</span>
            <span class="s2">),</span>
            <span class="s3">const </span><span class="s0">SizedBox</span><span class="s2">(</span><span class="s0">width</span><span class="s2">: </span><span class="s4">16</span><span class="s2">),</span>
            <span class="s0">Column</span><span class="s2">(</span>
              <span class="s0">crossAxisAlignment</span><span class="s2">: </span><span class="s0">CrossAxisAlignment</span><span class="s2">.</span><span class="s0">start</span><span class="s2">,</span>
              <span class="s0">children</span><span class="s2">: [</span>
                <span class="s0">Text</span><span class="s2">(</span>
                  <span class="s0">title</span><span class="s2">,</span>
                  <span class="s0">style</span><span class="s2">: </span><span class="s0">TextStyle</span><span class="s2">(</span>
                    <span class="s0">fontSize</span><span class="s2">: </span><span class="s4">14</span><span class="s2">,</span>
                    <span class="s0">color</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">grey</span><span class="s2">.</span><span class="s0">shade700</span><span class="s2">,</span>
                  <span class="s2">),</span>
                <span class="s2">),</span>
                <span class="s0">Text</span><span class="s2">(</span>
                  <span class="s0">value</span><span class="s2">,</span>
                  <span class="s0">style</span><span class="s2">: </span><span class="s0">TextStyle</span><span class="s2">(</span>
                    <span class="s0">fontSize</span><span class="s2">: </span><span class="s4">20</span><span class="s2">,</span>
                    <span class="s0">fontWeight</span><span class="s2">: </span><span class="s0">FontWeight</span><span class="s2">.</span><span class="s0">bold</span><span class="s2">,</span>
                    <span class="s0">color</span><span class="s2">: </span><span class="s0">color</span><span class="s2">,</span>
                  <span class="s2">),</span>
                <span class="s2">),</span>
              <span class="s2">],</span>
            <span class="s2">),</span>
          <span class="s2">],</span>
        <span class="s2">),</span>
      <span class="s2">),</span>
    <span class="s2">);</span>
  <span class="s2">}</span>

  <span class="s0">Widget _buildMobileLayout</span><span class="s2">(</span><span class="s0">bool isLandscape</span><span class="s2">) {</span>
    <span class="s3">return </span><span class="s0">SafeArea</span><span class="s2">(</span>
      <span class="s0">child</span><span class="s2">: </span><span class="s0">Column</span><span class="s2">(</span>
        <span class="s0">crossAxisAlignment</span><span class="s2">: </span><span class="s0">CrossAxisAlignment</span><span class="s2">.</span><span class="s0">stretch</span><span class="s2">,</span>
        <span class="s0">children</span><span class="s2">: [</span>
          <span class="s0">_buildHeader</span><span class="s2">(),</span>

          <span class="s3">if </span><span class="s2">(</span><span class="s0">_hayDatosMaquinas</span><span class="s2">)</span>
            <span class="s0">_buildDashboard</span><span class="s2">(),</span>

          <span class="s0">Expanded</span><span class="s2">(</span>
            <span class="s0">child</span><span class="s2">: </span><span class="s0">Padding</span><span class="s2">(</span>
              <span class="s0">padding</span><span class="s2">: </span><span class="s3">const </span><span class="s0">EdgeInsets</span><span class="s2">.</span><span class="s0">symmetric</span><span class="s2">(</span><span class="s0">horizontal</span><span class="s2">: </span><span class="s4">16.0</span><span class="s2">),</span>
              <span class="s0">child</span><span class="s2">: </span><span class="s0">isLandscape</span>
                  <span class="s2">? </span><span class="s0">_buildLandscapeGrid</span><span class="s2">()</span>
                  <span class="s2">: </span><span class="s0">_buildPortraitGrid</span><span class="s2">(),</span>
            <span class="s2">),</span>
          <span class="s2">),</span>

          <span class="s0">_buildFooter</span><span class="s2">(),</span>
        <span class="s2">],</span>
      <span class="s2">),</span>
    <span class="s2">);</span>
  <span class="s2">}</span>

  <span class="s0">Widget _buildHeader</span><span class="s2">() {</span>
    <span class="s3">return </span><span class="s0">Container</span><span class="s2">(</span>
      <span class="s0">padding</span><span class="s2">: </span><span class="s3">const </span><span class="s0">EdgeInsets</span><span class="s2">.</span><span class="s0">fromLTRB</span><span class="s2">(</span><span class="s4">24</span><span class="s2">, </span><span class="s4">24</span><span class="s2">, </span><span class="s4">24</span><span class="s2">, </span><span class="s4">16</span><span class="s2">),</span>
      <span class="s0">child</span><span class="s2">: </span><span class="s0">Row</span><span class="s2">(</span>
        <span class="s0">children</span><span class="s2">: [</span>
          <span class="s0">Container</span><span class="s2">(</span>
            <span class="s0">width</span><span class="s2">: </span><span class="s4">50</span><span class="s2">,</span>
            <span class="s0">height</span><span class="s2">: </span><span class="s4">50</span><span class="s2">,</span>
            <span class="s0">decoration</span><span class="s2">: </span><span class="s0">BoxDecoration</span><span class="s2">(</span>
              <span class="s0">color</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">blue</span><span class="s2">.</span><span class="s0">shade700</span><span class="s2">,</span>
              <span class="s0">borderRadius</span><span class="s2">: </span><span class="s0">BorderRadius</span><span class="s2">.</span><span class="s0">circular</span><span class="s2">(</span><span class="s4">12</span><span class="s2">),</span>
              <span class="s0">boxShadow</span><span class="s2">: [</span>
                <span class="s0">BoxShadow</span><span class="s2">(</span>
                  <span class="s0">color</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">blue</span><span class="s2">.</span><span class="s0">withOpacity</span><span class="s2">(</span><span class="s4">0.3</span><span class="s2">),</span>
                  <span class="s0">spreadRadius</span><span class="s2">: </span><span class="s4">1</span><span class="s2">,</span>
                  <span class="s0">blurRadius</span><span class="s2">: </span><span class="s4">4</span><span class="s2">,</span>
                  <span class="s0">offset</span><span class="s2">: </span><span class="s3">const </span><span class="s0">Offset</span><span class="s2">(</span><span class="s4">0</span><span class="s2">, </span><span class="s4">2</span><span class="s2">),</span>
                <span class="s2">),</span>
              <span class="s2">],</span>
            <span class="s2">),</span>
            <span class="s0">child</span><span class="s2">: </span><span class="s3">const </span><span class="s0">Icon</span><span class="s2">(</span>
              <span class="s0">Icons</span><span class="s2">.</span><span class="s0">directions_bus</span><span class="s2">,</span>
              <span class="s0">color</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">white</span><span class="s2">,</span>
              <span class="s0">size</span><span class="s2">: </span><span class="s4">30</span><span class="s2">,</span>
            <span class="s2">),</span>
          <span class="s2">),</span>
          <span class="s3">const </span><span class="s0">SizedBox</span><span class="s2">(</span><span class="s0">width</span><span class="s2">: </span><span class="s4">16</span><span class="s2">),</span>

          <span class="s0">Expanded</span><span class="s2">(</span>
            <span class="s0">child</span><span class="s2">: </span><span class="s0">Column</span><span class="s2">(</span>
              <span class="s0">crossAxisAlignment</span><span class="s2">: </span><span class="s0">CrossAxisAlignment</span><span class="s2">.</span><span class="s0">start</span><span class="s2">,</span>
              <span class="s0">children</span><span class="s2">: [</span>
                <span class="s3">const </span><span class="s0">Text</span><span class="s2">(</span>
                  <span class="s1">'Mantenimiento Buses Suray'</span><span class="s2">,</span>
                  <span class="s0">style</span><span class="s2">: </span><span class="s0">TextStyle</span><span class="s2">(</span>
                    <span class="s0">fontSize</span><span class="s2">: </span><span class="s4">22</span><span class="s2">,</span>
                    <span class="s0">fontWeight</span><span class="s2">: </span><span class="s0">FontWeight</span><span class="s2">.</span><span class="s0">bold</span><span class="s2">,</span>
                    <span class="s0">color</span><span class="s2">: </span><span class="s0">Color</span><span class="s2">(</span><span class="s4">0xFF1A237E</span><span class="s2">),</span>
                  <span class="s2">),</span>
                <span class="s2">),</span>
                <span class="s0">Text</span><span class="s2">(</span>
                  <span class="s1">'Sistema de Gestión de Flota'</span><span class="s2">,</span>
                  <span class="s0">style</span><span class="s2">: </span><span class="s0">TextStyle</span><span class="s2">(</span>
                    <span class="s0">fontSize</span><span class="s2">: </span><span class="s4">14</span><span class="s2">,</span>
                    <span class="s0">color</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">grey</span><span class="s2">.</span><span class="s0">shade600</span><span class="s2">,</span>
                  <span class="s2">),</span>
                <span class="s2">),</span>
              <span class="s2">],</span>
            <span class="s2">),</span>
          <span class="s2">),</span>

          <span class="s0">IconButton</span><span class="s2">(</span>
            <span class="s0">onPressed</span><span class="s2">: </span><span class="s0">_navegarAConfiguracion</span><span class="s2">,</span>
            <span class="s0">icon</span><span class="s2">: </span><span class="s3">const </span><span class="s0">Icon</span><span class="s2">(</span><span class="s0">Icons</span><span class="s2">.</span><span class="s0">settings</span><span class="s2">),</span>
            <span class="s0">tooltip</span><span class="s2">: </span><span class="s1">'Configuración'</span><span class="s2">,</span>
            <span class="s0">color</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">grey</span><span class="s2">.</span><span class="s0">shade700</span><span class="s2">,</span>
          <span class="s2">),</span>

          <span class="s0">IconButton</span><span class="s2">(</span>
            <span class="s0">onPressed</span><span class="s2">: () {</span>
              <span class="s0">_scaffoldKey</span><span class="s2">.</span><span class="s0">currentState</span><span class="s2">?.</span><span class="s0">openDrawer</span><span class="s2">();</span>
            <span class="s2">},</span>
            <span class="s0">icon</span><span class="s2">: </span><span class="s3">const </span><span class="s0">Icon</span><span class="s2">(</span><span class="s0">Icons</span><span class="s2">.</span><span class="s0">menu</span><span class="s2">),</span>
            <span class="s0">tooltip</span><span class="s2">: </span><span class="s1">'Menú'</span><span class="s2">,</span>
            <span class="s0">color</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">grey</span><span class="s2">.</span><span class="s0">shade700</span><span class="s2">,</span>
          <span class="s2">),</span>
        <span class="s2">],</span>
      <span class="s2">),</span>
    <span class="s2">);</span>
  <span class="s2">}</span>

  <span class="s0">Widget _buildDashboard</span><span class="s2">() {</span>
    <span class="s3">return </span><span class="s0">Container</span><span class="s2">(</span>
      <span class="s0">margin</span><span class="s2">: </span><span class="s3">const </span><span class="s0">EdgeInsets</span><span class="s2">.</span><span class="s0">fromLTRB</span><span class="s2">(</span><span class="s4">16</span><span class="s2">, </span><span class="s4">8</span><span class="s2">, </span><span class="s4">16</span><span class="s2">, </span><span class="s4">16</span><span class="s2">),</span>
      <span class="s0">padding</span><span class="s2">: </span><span class="s3">const </span><span class="s0">EdgeInsets</span><span class="s2">.</span><span class="s0">all</span><span class="s2">(</span><span class="s4">16</span><span class="s2">),</span>
      <span class="s0">decoration</span><span class="s2">: </span><span class="s0">BoxDecoration</span><span class="s2">(</span>
        <span class="s0">gradient</span><span class="s2">: </span><span class="s0">LinearGradient</span><span class="s2">(</span>
          <span class="s0">begin</span><span class="s2">: </span><span class="s0">Alignment</span><span class="s2">.</span><span class="s0">topLeft</span><span class="s2">,</span>
          <span class="s0">end</span><span class="s2">: </span><span class="s0">Alignment</span><span class="s2">.</span><span class="s0">bottomRight</span><span class="s2">,</span>
          <span class="s0">colors</span><span class="s2">: [</span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">blue</span><span class="s2">.</span><span class="s0">shade600</span><span class="s2">, </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">blue</span><span class="s2">.</span><span class="s0">shade800</span><span class="s2">],</span>
        <span class="s2">),</span>
        <span class="s0">borderRadius</span><span class="s2">: </span><span class="s0">BorderRadius</span><span class="s2">.</span><span class="s0">circular</span><span class="s2">(</span><span class="s4">16</span><span class="s2">),</span>
        <span class="s0">boxShadow</span><span class="s2">: [</span>
          <span class="s0">BoxShadow</span><span class="s2">(</span>
            <span class="s0">color</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">blue</span><span class="s2">.</span><span class="s0">withOpacity</span><span class="s2">(</span><span class="s4">0.3</span><span class="s2">),</span>
            <span class="s0">blurRadius</span><span class="s2">: </span><span class="s4">8</span><span class="s2">,</span>
            <span class="s0">offset</span><span class="s2">: </span><span class="s3">const </span><span class="s0">Offset</span><span class="s2">(</span><span class="s4">0</span><span class="s2">, </span><span class="s4">4</span><span class="s2">),</span>
          <span class="s2">),</span>
        <span class="s2">],</span>
      <span class="s2">),</span>
      <span class="s0">child</span><span class="s2">: </span><span class="s0">Column</span><span class="s2">(</span>
        <span class="s0">crossAxisAlignment</span><span class="s2">: </span><span class="s0">CrossAxisAlignment</span><span class="s2">.</span><span class="s0">start</span><span class="s2">,</span>
        <span class="s0">children</span><span class="s2">: [</span>
          <span class="s0">Row</span><span class="s2">(</span>
            <span class="s0">children</span><span class="s2">: [</span>
              <span class="s3">const </span><span class="s0">Icon</span><span class="s2">(</span>
                <span class="s0">Icons</span><span class="s2">.</span><span class="s0">dashboard</span><span class="s2">,</span>
                <span class="s0">color</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">white</span><span class="s2">,</span>
              <span class="s2">),</span>
              <span class="s3">const </span><span class="s0">SizedBox</span><span class="s2">(</span><span class="s0">width</span><span class="s2">: </span><span class="s4">8</span><span class="s2">),</span>
              <span class="s3">const </span><span class="s0">Text</span><span class="s2">(</span>
                <span class="s1">'Dashboard'</span><span class="s2">,</span>
                <span class="s0">style</span><span class="s2">: </span><span class="s0">TextStyle</span><span class="s2">(</span>
                  <span class="s0">color</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">white</span><span class="s2">,</span>
                  <span class="s0">fontWeight</span><span class="s2">: </span><span class="s0">FontWeight</span><span class="s2">.</span><span class="s0">bold</span><span class="s2">,</span>
                  <span class="s0">fontSize</span><span class="s2">: </span><span class="s4">16</span><span class="s2">,</span>
                <span class="s2">),</span>
              <span class="s2">),</span>
              <span class="s3">const </span><span class="s0">Spacer</span><span class="s2">(),</span>
              <span class="s0">TextButton</span><span class="s2">.</span><span class="s0">icon</span><span class="s2">(</span>
                <span class="s0">onPressed</span><span class="s2">: </span><span class="s0">_hayDatosMaquinas </span><span class="s2">? </span><span class="s0">_navegarAGenerarReporte </span><span class="s2">: </span><span class="s3">null</span><span class="s2">,</span>
                <span class="s0">icon</span><span class="s2">: </span><span class="s3">const </span><span class="s0">Icon</span><span class="s2">(</span><span class="s0">Icons</span><span class="s2">.</span><span class="s0">assessment</span><span class="s2">, </span><span class="s0">color</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">white</span><span class="s2">, </span><span class="s0">size</span><span class="s2">: </span><span class="s4">16</span><span class="s2">),</span>
                <span class="s0">label</span><span class="s2">: </span><span class="s3">const </span><span class="s0">Text</span><span class="s2">(</span>
                  <span class="s1">'Ver Reporte'</span><span class="s2">,</span>
                  <span class="s0">style</span><span class="s2">: </span><span class="s0">TextStyle</span><span class="s2">(</span><span class="s0">color</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">white</span><span class="s2">, </span><span class="s0">fontSize</span><span class="s2">: </span><span class="s4">12</span><span class="s2">),</span>
                <span class="s2">),</span>
                <span class="s0">style</span><span class="s2">: </span><span class="s0">TextButton</span><span class="s2">.</span><span class="s0">styleFrom</span><span class="s2">(</span>
                  <span class="s0">backgroundColor</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">white</span><span class="s2">.</span><span class="s0">withOpacity</span><span class="s2">(</span><span class="s4">0.2</span><span class="s2">),</span>
                  <span class="s0">shape</span><span class="s2">: </span><span class="s0">RoundedRectangleBorder</span><span class="s2">(</span>
                    <span class="s0">borderRadius</span><span class="s2">: </span><span class="s0">BorderRadius</span><span class="s2">.</span><span class="s0">circular</span><span class="s2">(</span><span class="s4">8</span><span class="s2">),</span>
                  <span class="s2">),</span>
                <span class="s2">),</span>
              <span class="s2">),</span>
            <span class="s2">],</span>
          <span class="s2">),</span>
          <span class="s3">const </span><span class="s0">SizedBox</span><span class="s2">(</span><span class="s0">height</span><span class="s2">: </span><span class="s4">12</span><span class="s2">),</span>
          <span class="s3">const </span><span class="s0">Text</span><span class="s2">(</span>
            <span class="s1">'La información de tu flota está lista para ser consultada.'</span><span class="s2">,</span>
            <span class="s0">style</span><span class="s2">: </span><span class="s0">TextStyle</span><span class="s2">(</span>
              <span class="s0">color</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">white</span><span class="s2">,</span>
              <span class="s0">fontSize</span><span class="s2">: </span><span class="s4">14</span><span class="s2">,</span>
            <span class="s2">),</span>
          <span class="s2">),</span>

          <span class="s3">const </span><span class="s0">SizedBox</span><span class="s2">(</span><span class="s0">height</span><span class="s2">: </span><span class="s4">12</span><span class="s2">),</span>
          <span class="s0">Row</span><span class="s2">(</span>
            <span class="s0">children</span><span class="s2">: [</span>
              <span class="s0">_buildMobileStatCard</span><span class="s2">(</span>
                <span class="s0">title</span><span class="s2">: </span><span class="s1">'Total'</span><span class="s2">,</span>
                <span class="s0">value</span><span class="s2">: </span><span class="s1">'</span><span class="s2">$</span><span class="s0">_totalMaquinas</span><span class="s1">'</span><span class="s2">,</span>
                <span class="s0">icon</span><span class="s2">: </span><span class="s0">Icons</span><span class="s2">.</span><span class="s0">directions_bus</span><span class="s2">,</span>
              <span class="s2">),</span>
              <span class="s0">_buildMobileStatCard</span><span class="s2">(</span>
                <span class="s0">title</span><span class="s2">: </span><span class="s1">'Próximas'</span><span class="s2">,</span>
                <span class="s0">value</span><span class="s2">: </span><span class="s1">'</span><span class="s2">$</span><span class="s0">_revisionesProximas</span><span class="s1">'</span><span class="s2">,</span>
                <span class="s0">icon</span><span class="s2">: </span><span class="s0">Icons</span><span class="s2">.</span><span class="s0">warning</span><span class="s2">,</span>
              <span class="s2">),</span>
              <span class="s0">_buildMobileStatCard</span><span class="s2">(</span>
                <span class="s0">title</span><span class="s2">: </span><span class="s1">'Vencidas'</span><span class="s2">,</span>
                <span class="s0">value</span><span class="s2">: </span><span class="s1">'</span><span class="s2">$</span><span class="s0">_revisionesVencidas</span><span class="s1">'</span><span class="s2">,</span>
                <span class="s0">icon</span><span class="s2">: </span><span class="s0">Icons</span><span class="s2">.</span><span class="s0">dangerous</span><span class="s2">,</span>
              <span class="s2">),</span>
            <span class="s2">],</span>
          <span class="s2">),</span>
        <span class="s2">],</span>
      <span class="s2">),</span>
    <span class="s2">);</span>
  <span class="s2">}</span>

  <span class="s0">Widget _buildMobileStatCard</span><span class="s2">({</span>
    <span class="s0">required String title</span><span class="s2">,</span>
    <span class="s0">required String value</span><span class="s2">,</span>
    <span class="s0">required IconData icon</span><span class="s2">,</span>
  <span class="s2">}) {</span>
    <span class="s3">return </span><span class="s0">Expanded</span><span class="s2">(</span>
      <span class="s0">child</span><span class="s2">: </span><span class="s0">Container</span><span class="s2">(</span>
        <span class="s0">padding</span><span class="s2">: </span><span class="s3">const </span><span class="s0">EdgeInsets</span><span class="s2">.</span><span class="s0">symmetric</span><span class="s2">(</span><span class="s0">vertical</span><span class="s2">: </span><span class="s4">8</span><span class="s2">, </span><span class="s0">horizontal</span><span class="s2">: </span><span class="s4">4</span><span class="s2">),</span>
        <span class="s0">decoration</span><span class="s2">: </span><span class="s0">BoxDecoration</span><span class="s2">(</span>
          <span class="s0">color</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">white</span><span class="s2">.</span><span class="s0">withOpacity</span><span class="s2">(</span><span class="s4">0.1</span><span class="s2">),</span>
          <span class="s0">borderRadius</span><span class="s2">: </span><span class="s0">BorderRadius</span><span class="s2">.</span><span class="s0">circular</span><span class="s2">(</span><span class="s4">8</span><span class="s2">),</span>
        <span class="s2">),</span>
        <span class="s0">child</span><span class="s2">: </span><span class="s0">Column</span><span class="s2">(</span>
          <span class="s0">children</span><span class="s2">: [</span>
            <span class="s0">Icon</span><span class="s2">(</span><span class="s0">icon</span><span class="s2">, </span><span class="s0">color</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">white</span><span class="s2">, </span><span class="s0">size</span><span class="s2">: </span><span class="s4">20</span><span class="s2">),</span>
            <span class="s3">const </span><span class="s0">SizedBox</span><span class="s2">(</span><span class="s0">height</span><span class="s2">: </span><span class="s4">4</span><span class="s2">),</span>
            <span class="s0">Text</span><span class="s2">(</span>
              <span class="s0">value</span><span class="s2">,</span>
              <span class="s0">style</span><span class="s2">: </span><span class="s3">const </span><span class="s0">TextStyle</span><span class="s2">(</span>
                <span class="s0">color</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">white</span><span class="s2">,</span>
                <span class="s0">fontWeight</span><span class="s2">: </span><span class="s0">FontWeight</span><span class="s2">.</span><span class="s0">bold</span><span class="s2">,</span>
                <span class="s0">fontSize</span><span class="s2">: </span><span class="s4">18</span><span class="s2">,</span>
              <span class="s2">),</span>
            <span class="s2">),</span>
            <span class="s0">Text</span><span class="s2">(</span>
              <span class="s0">title</span><span class="s2">,</span>
              <span class="s0">style</span><span class="s2">: </span><span class="s0">TextStyle</span><span class="s2">(</span>
                <span class="s0">color</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">white</span><span class="s2">.</span><span class="s0">withOpacity</span><span class="s2">(</span><span class="s4">0.8</span><span class="s2">),</span>
                <span class="s0">fontSize</span><span class="s2">: </span><span class="s4">12</span><span class="s2">,</span>
              <span class="s2">),</span>
            <span class="s2">),</span>
          <span class="s2">],</span>
        <span class="s2">),</span>
      <span class="s2">),</span>
    <span class="s2">);</span>
  <span class="s2">}</span>

  <span class="s0">Widget _buildPortraitGrid</span><span class="s2">() {</span>
    <span class="s3">return </span><span class="s0">GridView</span><span class="s2">.</span><span class="s0">count</span><span class="s2">(</span>
      <span class="s0">crossAxisCount</span><span class="s2">: </span><span class="s4">2</span><span class="s2">,</span>
      <span class="s0">childAspectRatio</span><span class="s2">: </span><span class="s4">1.0</span><span class="s2">,</span>
      <span class="s0">mainAxisSpacing</span><span class="s2">: </span><span class="s4">16</span><span class="s2">,</span>
      <span class="s0">crossAxisSpacing</span><span class="s2">: </span><span class="s4">16</span><span class="s2">,</span>
      <span class="s0">children</span><span class="s2">: [</span>
        <span class="s0">_buildMenuCard</span><span class="s2">(</span>
          <span class="s0">title</span><span class="s2">: </span><span class="s1">'Ver Máquinas'</span><span class="s2">,</span>
          <span class="s0">icon</span><span class="s2">: </span><span class="s0">Icons</span><span class="s2">.</span><span class="s0">directions_bus_filled</span><span class="s2">,</span>
          <span class="s0">color</span><span class="s2">: </span><span class="s3">const </span><span class="s0">Color</span><span class="s2">(</span><span class="s4">0xFF1976D2</span><span class="s2">),</span>
          <span class="s0">description</span><span class="s2">: </span><span class="s1">'Consulta la información detallada de todas las máquinas'</span><span class="s2">,</span>
          <span class="s0">onTap</span><span class="s2">: </span><span class="s0">_hayDatosMaquinas </span><span class="s2">? </span><span class="s0">_navegarAMaquinas </span><span class="s2">: </span><span class="s3">null</span><span class="s2">,</span>
        <span class="s2">),</span>
        <span class="s0">_buildMenuCard</span><span class="s2">(</span>
          <span class="s0">title</span><span class="s2">: </span><span class="s1">'Editar Máquina'</span><span class="s2">,</span>
          <span class="s0">icon</span><span class="s2">: </span><span class="s0">Icons</span><span class="s2">.</span><span class="s0">edit_outlined</span><span class="s2">,</span>
          <span class="s0">color</span><span class="s2">: </span><span class="s3">const </span><span class="s0">Color</span><span class="s2">(</span><span class="s4">0xFF43A047</span><span class="s2">),</span>
          <span class="s0">description</span><span class="s2">: </span><span class="s1">'Añade o modifica información de las máquinas'</span><span class="s2">,</span>
          <span class="s0">onTap</span><span class="s2">: </span><span class="s0">_editarMaquina</span><span class="s2">,</span>
        <span class="s2">),</span>
        <span class="s0">_buildMenuCard</span><span class="s2">(</span>
          <span class="s0">title</span><span class="s2">: </span><span class="s1">'Exportar a Excel'</span><span class="s2">,</span>
          <span class="s0">icon</span><span class="s2">: </span><span class="s0">Icons</span><span class="s2">.</span><span class="s0">table_chart</span><span class="s2">,</span>
          <span class="s0">color</span><span class="s2">: </span><span class="s3">const </span><span class="s0">Color</span><span class="s2">(</span><span class="s4">0xFF00897B</span><span class="s2">),</span>
          <span class="s0">description</span><span class="s2">: </span><span class="s1">'Genera un archivo Excel con los datos e imágenes'</span><span class="s2">,</span>
          <span class="s0">onTap</span><span class="s2">: </span><span class="s0">_hayDatosMaquinas </span><span class="s2">? </span><span class="s0">_navegarAExportarExcel </span><span class="s2">: </span><span class="s3">null</span><span class="s2">,</span>
        <span class="s2">),</span>
        <span class="s0">_buildMenuCard</span><span class="s2">(</span>
          <span class="s0">title</span><span class="s2">: </span><span class="s1">'Respaldo'</span><span class="s2">,</span>
          <span class="s0">icon</span><span class="s2">: </span><span class="s0">Icons</span><span class="s2">.</span><span class="s0">save_alt</span><span class="s2">,</span>
          <span class="s0">color</span><span class="s2">: </span><span class="s3">const </span><span class="s0">Color</span><span class="s2">(</span><span class="s4">0xFF7B1FA2</span><span class="s2">),</span>
          <span class="s0">description</span><span class="s2">: </span><span class="s1">'Crea un respaldo completo del sistema'</span><span class="s2">,</span>
          <span class="s0">onTap</span><span class="s2">: </span><span class="s0">_hayDatosMaquinas </span><span class="s2">? </span><span class="s0">_navegarAExportarDocumento </span><span class="s2">: </span><span class="s3">null</span><span class="s2">,</span>
        <span class="s2">),</span>
      <span class="s2">],</span>
    <span class="s2">);</span>
  <span class="s2">}</span>

  <span class="s0">Widget _buildLandscapeGrid</span><span class="s2">() {</span>
    <span class="s3">return </span><span class="s0">GridView</span><span class="s2">.</span><span class="s0">count</span><span class="s2">(</span>
      <span class="s0">crossAxisCount</span><span class="s2">: </span><span class="s4">3</span><span class="s2">,</span>
      <span class="s0">childAspectRatio</span><span class="s2">: </span><span class="s4">1.3</span><span class="s2">,</span>
      <span class="s0">mainAxisSpacing</span><span class="s2">: </span><span class="s4">16</span><span class="s2">,</span>
      <span class="s0">crossAxisSpacing</span><span class="s2">: </span><span class="s4">16</span><span class="s2">,</span>
      <span class="s0">children</span><span class="s2">: [</span>
        <span class="s0">_buildMenuCard</span><span class="s2">(</span>
          <span class="s0">title</span><span class="s2">: </span><span class="s1">'Ver Máquinas'</span><span class="s2">,</span>
          <span class="s0">icon</span><span class="s2">: </span><span class="s0">Icons</span><span class="s2">.</span><span class="s0">directions_bus_filled</span><span class="s2">,</span>
          <span class="s0">color</span><span class="s2">: </span><span class="s3">const </span><span class="s0">Color</span><span class="s2">(</span><span class="s4">0xFF1976D2</span><span class="s2">),</span>
          <span class="s0">description</span><span class="s2">: </span><span class="s1">'Consulta la información detallada'</span><span class="s2">,</span>
          <span class="s0">onTap</span><span class="s2">: </span><span class="s0">_hayDatosMaquinas </span><span class="s2">? </span><span class="s0">_navegarAMaquinas </span><span class="s2">: </span><span class="s3">null</span><span class="s2">,</span>
        <span class="s2">),</span>
        <span class="s0">_buildMenuCard</span><span class="s2">(</span>
          <span class="s0">title</span><span class="s2">: </span><span class="s1">'Editar Máquina'</span><span class="s2">,</span>
          <span class="s0">icon</span><span class="s2">: </span><span class="s0">Icons</span><span class="s2">.</span><span class="s0">edit_outlined</span><span class="s2">,</span>
          <span class="s0">color</span><span class="s2">: </span><span class="s3">const </span><span class="s0">Color</span><span class="s2">(</span><span class="s4">0xFF43A047</span><span class="s2">),</span>
          <span class="s0">description</span><span class="s2">: </span><span class="s1">'Añade o modifica información'</span><span class="s2">,</span>
          <span class="s0">onTap</span><span class="s2">: </span><span class="s0">_editarMaquina</span><span class="s2">,</span>
        <span class="s2">),</span>
        <span class="s0">_buildMenuCard</span><span class="s2">(</span>
          <span class="s0">title</span><span class="s2">: </span><span class="s1">'Generar Reporte'</span><span class="s2">,</span>
          <span class="s0">icon</span><span class="s2">: </span><span class="s0">Icons</span><span class="s2">.</span><span class="s0">assessment</span><span class="s2">,</span>
          <span class="s0">color</span><span class="s2">: </span><span class="s3">const </span><span class="s0">Color</span><span class="s2">(</span><span class="s4">0xFFFFA000</span><span class="s2">),</span>
          <span class="s0">description</span><span class="s2">: </span><span class="s1">'Visualiza informes y estadísticas'</span><span class="s2">,</span>
          <span class="s0">onTap</span><span class="s2">: </span><span class="s0">_hayDatosMaquinas </span><span class="s2">? </span><span class="s0">_navegarAGenerarReporte </span><span class="s2">: </span><span class="s3">null</span><span class="s2">,</span>
        <span class="s2">),</span>
        <span class="s0">_buildMenuCard</span><span class="s2">(</span>
          <span class="s0">title</span><span class="s2">: </span><span class="s1">'Exportar a Excel'</span><span class="s2">,</span>
          <span class="s0">icon</span><span class="s2">: </span><span class="s0">Icons</span><span class="s2">.</span><span class="s0">table_chart</span><span class="s2">,</span>
          <span class="s0">color</span><span class="s2">: </span><span class="s3">const </span><span class="s0">Color</span><span class="s2">(</span><span class="s4">0xFF00897B</span><span class="s2">),</span>
          <span class="s0">description</span><span class="s2">: </span><span class="s1">'Genera un Excel con datos e imágenes'</span><span class="s2">,</span>
          <span class="s0">onTap</span><span class="s2">: </span><span class="s0">_hayDatosMaquinas </span><span class="s2">? </span><span class="s0">_navegarAExportarExcel </span><span class="s2">: </span><span class="s3">null</span><span class="s2">,</span>
        <span class="s2">),</span>
        <span class="s0">_buildMenuCard</span><span class="s2">(</span>
          <span class="s0">title</span><span class="s2">: </span><span class="s1">'Respaldo'</span><span class="s2">,</span>
          <span class="s0">icon</span><span class="s2">: </span><span class="s0">Icons</span><span class="s2">.</span><span class="s0">save_alt</span><span class="s2">,</span>
          <span class="s0">color</span><span class="s2">: </span><span class="s3">const </span><span class="s0">Color</span><span class="s2">(</span><span class="s4">0xFF7E57C2</span><span class="s2">),</span>
          <span class="s0">description</span><span class="s2">: </span><span class="s1">'Crea un respaldo completo'</span><span class="s2">,</span>
          <span class="s0">onTap</span><span class="s2">: </span><span class="s0">_hayDatosMaquinas </span><span class="s2">? </span><span class="s0">_navegarAExportarDocumento </span><span class="s2">: </span><span class="s3">null</span><span class="s2">,</span>
        <span class="s2">),</span>
      <span class="s2">],</span>
    <span class="s2">);</span>
  <span class="s2">}</span>

  <span class="s0">Widget _buildMenuCard</span><span class="s2">({</span>
    <span class="s0">required String title</span><span class="s2">,</span>
    <span class="s0">required IconData icon</span><span class="s2">,</span>
    <span class="s0">required Color color</span><span class="s2">,</span>
    <span class="s0">required String description</span><span class="s2">,</span>
    <span class="s0">required VoidCallback</span><span class="s2">? </span><span class="s0">onTap</span><span class="s2">,</span>
  <span class="s2">}) {</span>
    <span class="s3">final </span><span class="s0">isDisabled </span><span class="s2">= </span><span class="s0">onTap </span><span class="s2">== </span><span class="s3">null</span><span class="s2">;</span>

    <span class="s3">return </span><span class="s0">GestureDetector</span><span class="s2">(</span>
      <span class="s0">onTap</span><span class="s2">: </span><span class="s0">onTap</span><span class="s2">,</span>
      <span class="s0">child</span><span class="s2">: </span><span class="s0">Container</span><span class="s2">(</span>
        <span class="s0">decoration</span><span class="s2">: </span><span class="s0">BoxDecoration</span><span class="s2">(</span>
          <span class="s0">color</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">white</span><span class="s2">,</span>
          <span class="s0">borderRadius</span><span class="s2">: </span><span class="s0">BorderRadius</span><span class="s2">.</span><span class="s0">circular</span><span class="s2">(</span><span class="s4">16</span><span class="s2">),</span>
          <span class="s0">boxShadow</span><span class="s2">: [</span>
            <span class="s0">BoxShadow</span><span class="s2">(</span>
              <span class="s0">color</span><span class="s2">: </span><span class="s0">isDisabled </span><span class="s2">? </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">grey</span><span class="s2">.</span><span class="s0">shade200 </span><span class="s2">: </span><span class="s0">color</span><span class="s2">.</span><span class="s0">withOpacity</span><span class="s2">(</span><span class="s4">0.2</span><span class="s2">),</span>
              <span class="s0">blurRadius</span><span class="s2">: </span><span class="s4">8</span><span class="s2">,</span>
              <span class="s0">offset</span><span class="s2">: </span><span class="s3">const </span><span class="s0">Offset</span><span class="s2">(</span><span class="s4">0</span><span class="s2">, </span><span class="s4">3</span><span class="s2">),</span>
            <span class="s2">),</span>
          <span class="s2">],</span>
          <span class="s0">border</span><span class="s2">: </span><span class="s0">Border</span><span class="s2">.</span><span class="s0">all</span><span class="s2">(</span>
            <span class="s0">color</span><span class="s2">: </span><span class="s0">isDisabled </span><span class="s2">? </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">grey</span><span class="s2">.</span><span class="s0">shade300 </span><span class="s2">: </span><span class="s0">color</span><span class="s2">.</span><span class="s0">withOpacity</span><span class="s2">(</span><span class="s4">0.3</span><span class="s2">),</span>
            <span class="s0">width</span><span class="s2">: </span><span class="s4">1.5</span><span class="s2">,</span>
          <span class="s2">),</span>
        <span class="s2">),</span>
        <span class="s0">child</span><span class="s2">: </span><span class="s0">Column</span><span class="s2">(</span>
          <span class="s0">mainAxisAlignment</span><span class="s2">: </span><span class="s0">MainAxisAlignment</span><span class="s2">.</span><span class="s0">center</span><span class="s2">,</span>
          <span class="s0">children</span><span class="s2">: [</span>
            <span class="s0">Container</span><span class="s2">(</span>
              <span class="s0">width</span><span class="s2">: </span><span class="s4">56</span><span class="s2">,</span>
              <span class="s0">height</span><span class="s2">: </span><span class="s4">56</span><span class="s2">,</span>
              <span class="s0">decoration</span><span class="s2">: </span><span class="s0">BoxDecoration</span><span class="s2">(</span>
                <span class="s0">color</span><span class="s2">: </span><span class="s0">isDisabled </span><span class="s2">? </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">grey</span><span class="s2">.</span><span class="s0">shade200 </span><span class="s2">: </span><span class="s0">color</span><span class="s2">.</span><span class="s0">withOpacity</span><span class="s2">(</span><span class="s4">0.15</span><span class="s2">),</span>
                <span class="s0">shape</span><span class="s2">: </span><span class="s0">BoxShape</span><span class="s2">.</span><span class="s0">circle</span><span class="s2">,</span>
              <span class="s2">),</span>
              <span class="s0">child</span><span class="s2">: </span><span class="s0">Icon</span><span class="s2">(</span>
                <span class="s0">icon</span><span class="s2">,</span>
                <span class="s0">color</span><span class="s2">: </span><span class="s0">isDisabled </span><span class="s2">? </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">grey</span><span class="s2">.</span><span class="s0">shade400 </span><span class="s2">: </span><span class="s0">color</span><span class="s2">,</span>
                <span class="s0">size</span><span class="s2">: </span><span class="s4">30</span><span class="s2">,</span>
              <span class="s2">),</span>
            <span class="s2">),</span>
            <span class="s3">const </span><span class="s0">SizedBox</span><span class="s2">(</span><span class="s0">height</span><span class="s2">: </span><span class="s4">12</span><span class="s2">),</span>
            <span class="s0">Text</span><span class="s2">(</span>
              <span class="s0">title</span><span class="s2">,</span>
              <span class="s0">style</span><span class="s2">: </span><span class="s0">TextStyle</span><span class="s2">(</span>
                <span class="s0">fontWeight</span><span class="s2">: </span><span class="s0">FontWeight</span><span class="s2">.</span><span class="s0">bold</span><span class="s2">,</span>
                <span class="s0">fontSize</span><span class="s2">: </span><span class="s4">16</span><span class="s2">,</span>
                <span class="s0">color</span><span class="s2">: </span><span class="s0">isDisabled </span><span class="s2">? </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">grey</span><span class="s2">.</span><span class="s0">shade500 </span><span class="s2">: </span><span class="s3">const </span><span class="s0">Color</span><span class="s2">(</span><span class="s4">0xFF263238</span><span class="s2">),</span>
              <span class="s2">),</span>
              <span class="s0">textAlign</span><span class="s2">: </span><span class="s0">TextAlign</span><span class="s2">.</span><span class="s0">center</span><span class="s2">,</span>
            <span class="s2">),</span>
            <span class="s3">const </span><span class="s0">SizedBox</span><span class="s2">(</span><span class="s0">height</span><span class="s2">: </span><span class="s4">8</span><span class="s2">),</span>
            <span class="s0">Padding</span><span class="s2">(</span>
              <span class="s0">padding</span><span class="s2">: </span><span class="s3">const </span><span class="s0">EdgeInsets</span><span class="s2">.</span><span class="s0">symmetric</span><span class="s2">(</span><span class="s0">horizontal</span><span class="s2">: </span><span class="s4">12</span><span class="s2">),</span>
              <span class="s0">child</span><span class="s2">: </span><span class="s0">Text</span><span class="s2">(</span>
                <span class="s0">description</span><span class="s2">,</span>
                <span class="s0">style</span><span class="s2">: </span><span class="s0">TextStyle</span><span class="s2">(</span>
                  <span class="s0">fontSize</span><span class="s2">: </span><span class="s4">12</span><span class="s2">,</span>
                  <span class="s0">color</span><span class="s2">: </span><span class="s0">isDisabled </span><span class="s2">? </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">grey</span><span class="s2">.</span><span class="s0">shade400 </span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">grey</span><span class="s2">.</span><span class="s0">shade600</span><span class="s2">,</span>
                <span class="s2">),</span>
                <span class="s0">textAlign</span><span class="s2">: </span><span class="s0">TextAlign</span><span class="s2">.</span><span class="s0">center</span><span class="s2">,</span>
                <span class="s0">maxLines</span><span class="s2">: </span><span class="s4">2</span><span class="s2">,</span>
                <span class="s0">overflow</span><span class="s2">: </span><span class="s0">TextOverflow</span><span class="s2">.</span><span class="s0">ellipsis</span><span class="s2">,</span>
              <span class="s2">),</span>
            <span class="s2">),</span>
          <span class="s2">],</span>
        <span class="s2">),</span>
      <span class="s2">),</span>
    <span class="s2">);</span>
  <span class="s2">}</span>

  <span class="s0">Widget _buildFooter</span><span class="s2">() {</span>
    <span class="s3">return </span><span class="s0">Container</span><span class="s2">(</span>
      <span class="s0">padding</span><span class="s2">: </span><span class="s3">const </span><span class="s0">EdgeInsets</span><span class="s2">.</span><span class="s0">symmetric</span><span class="s2">(</span><span class="s0">vertical</span><span class="s2">: </span><span class="s4">16</span><span class="s2">, </span><span class="s0">horizontal</span><span class="s2">: </span><span class="s4">24</span><span class="s2">),</span>
      <span class="s0">child</span><span class="s2">: </span><span class="s0">Row</span><span class="s2">(</span>
        <span class="s0">mainAxisAlignment</span><span class="s2">: </span><span class="s0">MainAxisAlignment</span><span class="s2">.</span><span class="s0">spaceBetween</span><span class="s2">,</span>
        <span class="s0">children</span><span class="s2">: [</span>
          <span class="s0">Text</span><span class="s2">(</span>
            <span class="s1">'© </span><span class="s2">${</span><span class="s0">DateTime</span><span class="s2">.</span><span class="s0">now</span><span class="s2">().</span><span class="s0">year</span><span class="s2">} </span><span class="s1">Suray'</span><span class="s2">,</span>
            <span class="s0">style</span><span class="s2">: </span><span class="s0">TextStyle</span><span class="s2">(</span>
              <span class="s0">fontSize</span><span class="s2">: </span><span class="s4">12</span><span class="s2">,</span>
              <span class="s0">color</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">grey</span><span class="s2">.</span><span class="s0">shade600</span><span class="s2">,</span>
            <span class="s2">),</span>
          <span class="s2">),</span>
          <span class="s0">Text</span><span class="s2">(</span>
            <span class="s1">'v1.0.0'</span><span class="s2">,</span>
            <span class="s0">style</span><span class="s2">: </span><span class="s0">TextStyle</span><span class="s2">(</span>
              <span class="s0">fontSize</span><span class="s2">: </span><span class="s4">12</span><span class="s2">,</span>
              <span class="s0">color</span><span class="s2">: </span><span class="s0">Colors</span><span class="s2">.</span><span class="s0">grey</span><span class="s2">.</span><span class="s0">shade600</span><span class="s2">,</span>
            <span class="s2">),</span>
          <span class="s2">),</span>
        <span class="s2">],</span>
      <span class="s2">),</span>
    <span class="s2">);</span>
  <span class="s2">}</span>
<span class="s2">}</span></pre>
</body>
</html>